(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"10dd":function(t,e,s){"use strict";s("2054")},"11d8":function(t,e,s){"use strict";s("c46e")},1266:function(t,e,s){},1543:function(t,e,s){},"177e":function(t,e,s){"use strict";s("c559")},"1cd7":function(t,e,s){"use strict";s("e94b")},2054:function(t,e,s){},2653:function(t,e,s){"use strict";s("4caf")},"296b":function(t,e,s){"use strict";s("9c07")},"2ac2":function(t,e,s){"use strict";s("8cad")},"2f82":function(t,e,s){"use strict";s("1266")},"32d8":function(t,e,s){"use strict";s("a8c1")},"369b":function(t,e,s){"use strict";s("9da3")},"37c7":function(t,e,s){},"3c9c":function(t,e,s){},4052:function(t,e,s){},"43b4":function(t,e,s){"use strict";s("1543")},4456:function(t,e,s){"use strict";s("98e3")},4491:function(t,e,s){},"4caf":function(t,e,s){},"508c":function(t,e,s){},"517f":function(t,e,s){"use strict";s("f329")},"525d":function(t,e,s){"use strict";s("4052")},5426:function(t,e,s){"use strict";s("96e4")},"5e67":function(t,e,s){},6511:function(t,e,s){"use strict";s("97c8")},"6e53":function(t,e,s){},"6fe4":function(t,e,s){},"713b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{staticClass:"non-selectable",attrs:{view:"hHh lpR fFf"}},[s("Header"),s("Drawer"),s("q-page-container",[s("Dashboard")],1)],1)},a=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-header",{staticClass:"header text-white",attrs:{"height-hint":40}},[s("div",{staticClass:"row items-center no-wrap"},[s("q-toolbar-title",{staticClass:"row q-gutter-xs no-wrap"},[s("AppMenuButton"),s("ButtonBase",{attrs:{icon:"home"}}),s("ButtonBase",{attrs:{icon:"leaderboard"}},[s("div",{staticClass:"btn-lh q-ml-sm fz-md"},[t._v("\n          看板\n        ")])]),s("SearchBar")],1),s("div",{attrs:{id:"logo"}}),s("q-toolbar-title",{staticClass:"row justify-end q-gutter-xs"},[s("ButtonBase",{attrs:{icon:"add"}}),s("ButtonBase",{attrs:{icon:"error_outline"}}),s("ButtonBase",{attrs:{icon:"notifications"}}),s("q-avatar",{attrs:{size:"32px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}})])],1)],1)])},o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-btn",{staticClass:"btn-bg",attrs:{size:"16px",padding:"6px",unelevated:""}},[s("div",{staticClass:"row no-wrap"},[t.icon?s("q-icon",{attrs:{name:t.icon,size:"20px"}}):t._e(),t._t("default")],2)])},l=[],c={name:"ButtonBase",props:{icon:{type:String,default:void 0}}},d=c,u=s("2877"),h=s("9c40"),p=s("0016"),m=s("eebe"),g=s.n(m),v=Object(u["a"])(d,r,l,!1,null,null,null),f=v.exports;g()(v,"components",{QBtn:h["a"],QIcon:p["a"]});var b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ButtonBase",{ref:"button",attrs:{icon:"apps"}},[s("q-menu",{ref:"menu",attrs:{target:t.$refs.button,offset:[6,14],"transition-show":"none","transition-hide":"none"}},[s("q-card",{staticClass:"q-pa-md",staticStyle:{width:"304px"}},[s("q-card-section",{staticClass:"q-pa-none q-mb-sm text-center text-weight-medium\n       relative-position text-color-1 non-selectable"},[t._v("\n        Atlassian 的更多產品\n        "),s("div",{staticClass:"absolute-right full-height flex flex-center"},[s("q-icon",{staticClass:"absolute-right cursor-pointer",attrs:{name:"close",size:"18px"},on:{click:t.hideMenu}})],1)]),s("q-separator"),s("q-card-section",{staticClass:"row justify-between items-center q-px-sm"},[s("div",{staticClass:"text-bold fz-lg"},[t._v("\n          Switch to\n        ")]),s("div",{staticClass:"brand-link-wrapper text-weight-bold row items-center cursor-pointer"},[s("span",{staticClass:"brand"},[t._v("\n            Atlassian Start\n          ")]),s("q-icon",{staticClass:"q-ml-xs",attrs:{name:"open_in_new",size:"16px"}})],1)]),s("q-item",{staticClass:"row items-center q-px-sm",attrs:{clickable:""}},[s("div",{staticClass:"brand-icon flex flex-center relative-position"},[s("q-icon",{attrs:{name:"leaderboard",color:"white",size:"22px"}})],1),s("div",{staticClass:"fz-md"},[t._v("\n          Trello\n        ")])]),s("q-list",{staticClass:"q-mt-md"},[s("q-item-label",{staticClass:"q-pl-sm fz-sm text-bold",attrs:{header:""}},[t._v("\n          DISCOVER\n        ")]),s("q-item",{staticClass:"row items-center q-px-sm list-item square-border",attrs:{clickable:""}},[s("q-item-section",{staticClass:"list-item-icon-wrapper q-pa-none flex flex-center",attrs:{avatar:""}},[s("q-icon",{staticClass:"item-icon",attrs:{name:"widgets"}})],1),s("q-item-section",[s("q-item-label",{staticClass:"fz-md item-header"},[t._v("\n              Confluence\n              "),s("span",{staticClass:"square-border fz-sm text-weight-bolder",staticStyle:{"background-color":"#DEEBFF","margin-left":"8px",color:"#0747A6",padding:"2px 12px 3px 12px"}},[t._v("TRY")])]),s("q-item-label",{staticClass:"fz-sm item-content"},[t._v("\n              Document collaboration\n            ")])],1)],1),s("q-item",{staticClass:"row items-center q-px-sm list-item square-border",attrs:{clickable:""}},[s("q-item-section",{staticClass:"list-item-icon-wrapper q-pa-none flex flex-center",attrs:{avatar:""}},[s("q-icon",{staticClass:"item-icon",attrs:{name:"dashboard"}})],1),s("q-item-section",[s("q-item-label",{staticClass:"fz-md item-header"},[t._v("\n              Jira Software\n            ")]),s("q-item-label",{staticClass:"fz-sm item-content"},[t._v("\n              Project and issue tracking\n            ")])],1)],1),s("q-item",{staticClass:"row items-center q-px-sm list-item square-border",attrs:{clickable:""}},[s("q-item-section",{staticClass:"list-item-icon-wrapper q-pa-none flex flex-center",attrs:{avatar:""}},[s("q-icon",{staticClass:"item-icon",attrs:{name:"account_tree"}})],1),s("q-item-section",[s("q-item-label",{staticClass:"fz-md item-header"},[t._v("\n              Jira Service Management\n            ")]),s("q-item-label",{staticClass:"fz-sm item-content"},[t._v("\n              Collaborative IT service management\n            ")])],1)],1),s("q-item",{staticClass:"row items-center q-px-sm list-item square-border",attrs:{clickable:""}},[s("q-item-section",{staticClass:"list-item-icon-wrapper q-pa-none flex flex-center",attrs:{avatar:""}},[s("q-icon",{staticStyle:{color:"rgb(86, 99, 122)"},attrs:{name:"explore"}})],1),s("q-item-section",[s("q-item-label",{staticClass:"fz-md item-header"},[t._v("\n              More Atlassian products\n            ")])],1)],1)],1)],1)],1)],1)},w=[],x={name:"AppMenuButton",components:{ButtonBase:f},data(){return{isShowMenu:!1}},methods:{hideMenu(){this.$refs.menu.hide()}}},C=x,_=(s("8c70"),s("4e73")),I=s("f09f"),y=s("a370"),S=s("eb85"),q=s("66e5"),D=s("1c1c"),M=s("0170"),T=s("4074"),$=Object(u["a"])(C,b,w,!1,null,"35c6ec55",null),k=$.exports;g()($,"components",{QMenu:_["a"],QCard:I["a"],QCardSection:y["a"],QIcon:p["a"],QSeparator:S["a"],QItem:q["a"],QList:D["a"],QItemLabel:M["a"],QItemSection:T["a"]});var B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative-position search-input-wrapper",class:t.isShowInput?"extend":""},[s("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.isShowInput,expression:"!isShowInput"}],staticClass:"btn-bg fit",staticStyle:{cursor:"text"},attrs:{padding:"0px",unelevated:""}},[s("div",{staticClass:"fit row justify-between items-center q-px-sm q-py-xs",on:{click:t.handleShowInput}},[s("div",[t._v("\n        跳到...\n      ")]),s("q-icon",{attrs:{name:"search",size:"20px"}})],1)]),s("input",{directives:[{name:"show",rawName:"v-show",value:t.isShowInput,expression:"isShowInput"}],ref:"searchInput",staticClass:"search-input fit square-border",attrs:{placeholder:"搜尋..."}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowInput,expression:"isShowInput"}],staticClass:"absolute-right q-pa-sm flex flex-center",staticStyle:{width:"32px"}},[s("q-icon",{staticClass:"cursor-pointer",attrs:{size:"16px",color:"black",name:"close"},on:{click:t.hideInput}})],1),s("q-menu",{ref:"searchMenu",attrs:{target:t.$refs.searchInput,offset:[0,8],"no-focus":""},on:{hide:t.handleMenuHide},model:{value:t.isShowMenu,callback:function(e){t.isShowMenu=e},expression:"isShowMenu"}},[s("div",{staticClass:"q-pa-md non-selectable",staticStyle:{width:"600px",height:"247px","background-color":"#f4f5f7"}},[s("div",{staticClass:"fz-sm text-color-1 text-weight-bold",staticStyle:{margin:"3px 0 9px"}},[t._v("\n        最近的看板\n      ")]),s("div",{staticClass:"row q-mt-sm q-mb-lg"},[s("q-item",{staticClass:"col-6 q-pa-none square-border\n          board-wrapper relative-position cursor-pointer overflow-hidden",style:"height: 36px;min-height: unset; background-color: #"+t.bgColorCode},[s("q-item-section",{staticClass:"q-pa-none full-height board-header",style:"min-width: unset;width: 36px;background-color: #"+t.bgColorCode,attrs:{avatar:""}}),s("q-item-section",{staticClass:"board-content column no-wrap",staticStyle:{padding:"0 10px 2px"}},[s("div",{staticClass:"text-bold ellipsis",staticStyle:{color:"#172B4D",height:"20px","line-height":"100%: vertical-align: middle"}},[t._v("\n              "+t._s(t.dashboardTitle)+"\n            ")]),s("q-item-label",{staticClass:"fz-sm",staticStyle:{color:"rgba(0, 0, 0, 0.4)","margin-top":"unset",height:"15px"}},[t._v("\n              查理布朗的工作區\n            ")])],1),s("div",{staticClass:"board-star-wrapper absolute-right overflow-hidden flex flex-center"},[s("q-icon",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"board-star text-weight-medium",staticStyle:{color:"rgb(66, 82, 110)"},attrs:{name:"star_outline"}})],1)],1)],1),s("div",{staticClass:"fz-sm text-color-1 text-weight-bold",staticStyle:{margin:"3px 0 9px"}},[t._v("\n        儲存搜尋結果\n      ")]),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-py-sm q-px-md square-border",staticStyle:{height:"32px","min-height":"unset"},attrs:{clickable:""}},[t._v("\n        My cards\n        "),s("span",{staticClass:"text-color-1 q-ml-sm text-weight-bold"},[t._v("@me")])]),s("q-separator",{staticStyle:{"margin-top":"8px"}}),s("q-item",{staticClass:"q-pa-none",staticStyle:{margin:"20px 4px 12px 8px"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",[s("img",{attrs:{src:"https://a.trellocdn.com/prgb/dist/images/empty-states/comb.0cb626a9eb77a2895e6c.svg"}})])],1),s("q-item-section",{staticClass:"text-weight-medium",staticStyle:{color:"#5E6C84"}},[t._v("\n          你可以使用各種運算子，像是 @member、#label、is:archived，以及 has:attachments，讓搜尋更精確。\n        ")]),s("q-item-section",{attrs:{side:"",top:""}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-weight-medium",staticStyle:{"font-color":"#172B4D","background-color":"rgba(9, 30, 66, 0.04)"},attrs:{label:"深入瞭解",padding:"6px 12px",flat:""}})],1)],1)],1)])],1)},A=[],E=s("ded3"),z=s.n(E),j=s("2f62"),O={name:"SearchBar",data(){return{isShowInput:!1,isShowMenu:!1}},computed:z()({},Object(j["c"])("dashboard",["dashboardTitle","bgColorCode"])),methods:{handleShowInput(){this.isShowInput=!0,setTimeout((()=>{this.$refs.searchInput.focus(),this.isShowMenu=!0}),20)},showInput(){this.isShowInput=!0},hideInput(){this.isShowInput=!1},handleMenuHide(){this.hideInput()}}},H=O,L=(s("c2c9"),s("cb32")),P=s("7f67"),Q=Object(u["a"])(H,B,A,!1,null,null,null),N=Q.exports;g()(Q,"components",{QBtn:h["a"],QIcon:p["a"],QMenu:_["a"],QItem:q["a"],QItemSection:T["a"],QItemLabel:M["a"],QSeparator:S["a"],QAvatar:L["a"]}),g()(Q,"directives",{ClosePopup:P["a"]});const F=["61bd4f","f2d600","ff9f1a","eb5a46","c377e0","0079bf","00c2e0","ff78cb","97a0af"],Y=["0279c0","d29034","529838","af4632","89609e","cd5a90","4abf6b","07adcc","848d91"],U="/Charley-is-fat/images/user.jpeg";var R={name:"Header",components:{ButtonBase:f,SearchBar:N,AppMenuButton:k},data(){return{USER_AVATAR_PATH:U}}},W=R,X=(s("177e"),s("e359")),V=s("6ac5"),J=Object(u["a"])(W,n,o,!1,null,"25f4be15",null),G=J.exports;g()(J,"components",{QHeader:X["a"],QToolbarTitle:V["a"],QAvatar:L["a"]});var K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-drawer",{attrs:{side:"right",width:339,behavior:"desktop"},model:{value:t.isShowDrawer,callback:function(e){t.isShowDrawer=e},expression:"isShowDrawer"}},[s("div",{staticClass:"wrapper fit q-pl-md q-pr-sm column"},[s("div",{staticClass:"header row flex flex-center relative-position"},[t._v("\n      "+t._s(t.header)+"\n      "),s("q-icon",{staticClass:"absolute-right cursor-pointer",staticStyle:{color:"#42526e",top:"14px",right:"6px"},attrs:{size:"20px",name:"close"},on:{click:t.hideDrawer}}),s("q-icon",{staticClass:"absolute-left cursor-pointer menu-back",class:t.isShowMenuBack?"show":"",attrs:{size:"28px",name:"navigate_before"},on:{click:t.handleMenuBack}})],1),s("q-separator"),s("div",{staticClass:"col no-wrap relative-position"},[s("q-tab-panels",{ref:"drawerTab",staticClass:"bg-transparent fit",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{staticClass:"bg-transparent q-pa-none fit",attrs:{name:"menu"}},[s("MenuList")],1),s("q-tab-panel",{staticClass:"bg-transparent q-pa-none fit",attrs:{name:"bgSetting"}},[s("BgSetting")],1),s("q-tab-panel",{staticClass:"bg-transparent q-pa-none fit",attrs:{name:"color"}},[s("BgColor")],1)],1)],1)],1)])},Z=[],tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu-wrapper fit"},[s("div",{staticClass:"menu"},[s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"poll",size:"20px"}})]},proxy:!0}])},[s("div",[s("div",{staticClass:"text-weight-bolder"},[t._v("\n          關於這個看板\n        ")]),s("div",{staticClass:"text-weight-medium",staticStyle:{color:"#5e6c84"}},[t._v("\n          為您的看板新增敘述\n        ")])])]),s("MenuItem",{nativeOn:{click:function(e){return t.showBgSetting.apply(null,arguments)}},scopedSlots:t._u([{key:"header",fn:function(){return[s("div",{staticClass:"square-border",style:"width: 20px; height: 20px;background-color:#"+t.bgColorCode})]},proxy:!0}])},[t._v("\n      更換背景\n    ")]),s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"search",size:"20px"}})]},proxy:!0}])},[t._v("\n      搜尋卡片\n    ")]),s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"donut_large",size:"20px"}})]},proxy:!0}])},[t._v("\n      貼圖\n    ")]),s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"more_horiz",size:"20px"}})]},proxy:!0}])},[t._v("\n      更多\n    ")])],1),s("q-separator",{staticClass:"divide"}),s("div",{staticClass:"menu"},[s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticClass:"rotate-45",staticStyle:{color:"inherit"},attrs:{name:"flash_on",size:"20px"}})]},proxy:!0}])},[s("div",[s("div",{staticClass:"text-weight-bolder"},[t._v("\n          自動化\n        ")]),s("div",{staticClass:"text-weight-medium",staticStyle:{color:"#5e6c84"}},[t._v("\n          自動化卡片和更多...\n        ")])])])],1),s("q-separator",{staticClass:"divide"}),s("div",{staticClass:"menu"},[s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"verified_user",size:"20px"}})]},proxy:!0}])},[s("div",[s("div",{staticClass:"text-weight-bolder"},[t._v("\n          強化功能\n        ")]),s("div",{staticClass:"text-weight-medium",staticStyle:{color:"#5e6c84"}},[t._v("\n          Google Drive 等...\n        ")])])]),s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("div",{staticStyle:{background:"rgba(9,30,66,.04)","border-radius":"3px","box-sizing":"border-box",height:"20px",width:"20px","line-height":"20px","text-align":"center","font-size":"12px","font-weight":"600","pointer-events":"none"}},[t._v("\n          1\n        ")])]},proxy:!0}])},[s("div",[s("div",{staticClass:"text-weight-medium",staticStyle:{color:"#5e6c84"}},[t._v("\n          新增 Power-Up...\n        ")])])]),s("MenuItem",{attrs:{id:"power-up-item"},scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticStyle:{background:"#eddbf4","border-radius":"3px","line-height":"20px",color:"#d5a6e6",height:"20px",width:"20px","text-align":"center","font-size":"12px"},attrs:{name:"lock"}})]},proxy:!0}])},[s("div",[s("div",{staticClass:"text-weight-medium",staticStyle:{background:"#FFFFFF","box-shadow":"0 1px 1px rgb(9 30 66 / 25%), 0 0 0 1px rgb(9 30 66 / 8%)","padding-left":"16px","padding-right":"16px",overflow:"hidden",position:"relative","border-radius":"3px",transition:"background 0.3s ease"}},[s("div",{staticStyle:{margin:"16px 0 8px",color:"#172B4D"}},[t._v("\n            使用無限量的 Power-Up\n          ")]),s("div",{staticClass:"text-weight-regular",staticStyle:{"margin-bottom":"16px",color:"#6B778C"}},[t._v("\n            每個看板需要不只一個 Power-Up？"),s("br"),t._v("升級到商務級方案，即可無限量使"),s("br"),t._v("用。\n          ")]),s("div",{staticClass:"link",staticStyle:{"margin-bottom":"16px","text-decoration":"underline"}},[t._v("\n            免費試用商務級方案 14 天\n          ")]),s("div",{staticClass:"absolute link",staticStyle:{width:"80px",height:"120px","border-radius":"12px","z-index":"2","background-color":"rgba(9, 30, 66, 0.04)",bottom:"-85px",right:"-8px",transform:"rotate(40deg)"}},[s("div",{staticStyle:{width:"26px",height:"26px",padding:"2px","background-color":"rgb(137 96 158)","border-radius":"3px",transform:"rotate(-40deg)",margin:"6px"}},[s("q-icon",{attrs:{name:t.outlinedVerifiedUser,size:"22px",color:"white"}})],1)])])])])],1),s("q-separator",{staticClass:"divide"}),s("MenuItem",{scopedSlots:t._u([{key:"header",fn:function(){return[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"list",size:"20px"}})]},proxy:!0}])},[t._v("\n    活動\n  ")]),s("div",{staticClass:"activity-wrapper"},[s("Activity"),s("Activity"),s("Activity"),s("Activity"),s("Activity")],1)],1)},et=[],st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"text-weight-bolder"},[t._t("default")],2),s("div",{staticClass:"icon-wrapper absolute-top-left"},[t._t("header")],2)])},it=[],at={name:"MenuItem"},nt=at,ot=(s("af71"),Object(u["a"])(nt,st,it,!1,null,"24f557ea",null)),rt=ot.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-wrap wrapper"},[s("q-avatar",{staticClass:"avatar",attrs:{size:"32px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}})]),t._m(0)],1)},ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col content-wrapper"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v("查理布朗")]),t._v(" 已變更這個看板的背景\n    ")]),s("div",{staticClass:"time text-weight-medium"},[t._v("\n      昨天晚上10點59分\n    ")])])}],dt={name:"Activity",data(){return{USER_AVATAR_PATH:U}}},ut=dt,ht=(s("43b4"),Object(u["a"])(ut,lt,ct,!1,null,"f20b94e0",null)),pt=ht.exports;g()(ht,"components",{QAvatar:L["a"]});var mt=s("df61"),gt={name:"MenuList",components:{MenuItem:rt,Activity:pt},data(){return{outlinedVerifiedUser:mt["d"]}},computed:z()({},Object(j["c"])("dashboard",["bgColorCode"])),methods:z()(z()({},Object(j["b"])("dashboard",["setDrawerTab"])),{},{showBgSetting(){this.setDrawerTab("bgSetting")}})},vt=gt,ft=(s("10dd"),Object(u["a"])(vt,tt,et,!1,null,"cb3123f6",null)),bt=ft.exports;g()(ft,"components",{QIcon:p["a"],QSeparator:S["a"]});var wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fit q-pt-md"},[s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"column item col-6 cursor-pointer",on:{click:t.goToColorTab}},[s("div",{staticClass:"image color"}),s("div",{staticClass:"text"},[t._v("\n        顏色\n      ")])])]),s("q-separator",{staticStyle:{margin:"15px 0 20px"}}),s("div",{staticStyle:{"font-weight":"600","font-size":"20px","line-height":"24px",margin:"0 0 8px"}},[t._v("\n    客製\n  ")]),s("div",{staticClass:"custom-wrapper relative-position"},[s("div",{staticClass:"mask absolute fit"}),s("div",{staticClass:"add-btn-wrapper"},[s("div",{staticClass:"add-btn flex flex-center"},[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"add",size:"30px"}})],1)])])],1)},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column item col-6  cursor-pointer"},[s("div",{staticClass:"image photo"}),s("div",{staticClass:"text"},[t._v("\n        照片\n      ")])])}],Ct={name:"BgSetting",methods:z()(z()({},Object(j["b"])("dashboard",["setDrawerTab"])),{},{goToColorTab(){this.setDrawerTab("color")}})},_t=Ct,It=(s("517f"),Object(u["a"])(_t,wt,xt,!1,null,"23ee7efe",null)),yt=It.exports;g()(It,"components",{QSeparator:S["a"],QIcon:p["a"]});var St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fit q-pt-md"},[s("div",{staticClass:"row "},t._l(t.colorCodes,(function(e,i){return s("div",{key:i,staticClass:"color-wrapper col-6 cursor-pointer",on:{click:function(s){return t.handleClick(e)}}},[s("div",{staticClass:"color",style:"background-color: #"+e})])})),0)])},qt=[],Dt=z()(z()({name:"BgColor"},Object(j["b"])("dashboard",["setDrawerTab"])),{},{data(){return{colorCodes:Y}},methods:z()(z()({},Object(j["b"])("dashboard",["setBgColor"])),{},{handleClick(t){this.setBgColor(t)}})}),Mt=Dt,Tt=(s("2653"),Object(u["a"])(Mt,St,qt,!1,null,"2e8bfba6",null)),$t=Tt.exports,kt={name:"Drawer",components:{MenuList:bt,BgSetting:yt,BgColor:$t},computed:z()(z()({},Object(j["c"])("dashboard",["isShowDrawer","drawerTab"])),{},{header(){return"bgSetting"===this.drawerTab?"更換背景":"color"===this.drawerTab?"顏色":"選單"},isShowMenuBack(){return"menu"!==this.drawerTab},tab:{get(){return this.drawerTab},set(t){this.setDrawerTab(t)}}}),methods:z()(z()({},Object(j["b"])("dashboard",["hideDrawer","setDrawerTab"])),{},{handleMenuBack(){this.$refs.drawerTab.previous()}})},Bt=kt,At=(s("db51"),s("9404")),Et=s("adad"),zt=s("823b"),jt=Object(u["a"])(Bt,K,Z,!1,null,"9936c6d6",null),Ot=jt.exports;g()(jt,"components",{QDrawer:At["a"],QIcon:p["a"],QSeparator:S["a"],QTabPanels:Et["a"],QTabPanel:zt["a"]});var Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"column"},[s("DashboardHeader"),s("div",{staticClass:"col relative-position"},[s("DashBoardBody")],1),s("CardDialog")],1)},Lt=[],Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard-header row wrap"},[s("div",{staticClass:"left row q-gutter-xs"},[s("DashboardHeaderButton",[s("div",{staticClass:"row items-center"},[s("q-icon",{staticClass:"rotate-180 text-bold",staticStyle:{padding:"1px"},attrs:{name:"bar_chart",size:"18px"}}),s("div",{staticStyle:{"padding-left":"2px"}},[t._v("\n          看板\n        ")]),s("q-icon",{staticClass:"text-weight-light",staticStyle:{"margin-left":"4px"},attrs:{name:"expand_more",size:"20px"}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowTitleInput,expression:"!isShowTitleInput"}],ref:"title",staticClass:"title-input row items-center cursor-pointer",on:{click:t.showTitleInput}},[t._v("\n      "+t._s(t.dashboardTitle)+"\n    ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTitleInput,expression:"isShowTitleInput"}],ref:"titleInput",staticClass:"title-input row items-center cursor-pointer",attrs:{contenteditable:"true",spellcheck:"false"},on:{blur:t.hideTitleInput,focus:t.handleFocus}},[t._v("\n      "+t._s(t.dashboardTitle)+"\n    ")]),s("DashboardHeaderButton",{attrs:{padding:"0px"}},[s("div",{staticClass:"flex flex-center",staticStyle:{width:"32px",height:"32px"}},[s("q-icon",{attrs:{name:"star_border",size:"18px"}})],1)]),s("q-separator",{staticClass:"q-mx-sm q-my-md",staticStyle:{"background-color":"hsla(0,0%,100%,.24)",height:"16px"},attrs:{vertical:"",inset:""}}),s("DashboardHeaderButton",{attrs:{padding:"0px"}},[s("div",{staticClass:"row full-height items-center q-px-md"},[s("div",{staticClass:"q-pr-sm"},[t._v("\n          查理布朗的工作區\n        ")]),s("div",{staticClass:"fz-sm",staticStyle:{"border-radius":"12px",background:"hsla(0,0%,100%,.2)",padding:"2px 6px"}},[t._v("\n          Free\n        ")])])]),s("q-separator",{staticClass:"q-mx-sm q-my-md",staticStyle:{"background-color":"hsla(0,0%,100%,.24)",height:"16px"},attrs:{vertical:"",inset:""}}),s("DashboardHeaderButton",{attrs:{padding:"0px"}},[s("div",{staticClass:"row items-center full-height q-px-md"},[s("q-icon",{attrs:{name:"lock",size:"12px"}}),s("div",{staticClass:"q-pl-md"},[t._v("\n          私密\n        ")])],1)]),s("q-separator",{staticClass:"q-mx-sm q-my-md",staticStyle:{"background-color":"hsla(0,0%,100%,.24)",height:"16px"},attrs:{vertical:"",inset:""}}),s("div",{staticClass:"flex flex-center q-px-sm relative-position",staticStyle:{height:"32px"}},[s("q-avatar",{staticClass:"relative-position cursor-pointer",attrs:{size:"28px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}}),s("q-icon",{staticClass:"absolute-bottom-right",attrs:{name:"img:https://a.trellocdn.com/prgb/dist/images/chevron.88a4454280d68a816b89.png",size:"9px"}})],1)],1),s("DashboardHeaderButton",{attrs:{padding:"0px"}},[s("div",{staticClass:"row items-center full-height q-px-md"},[s("div",[t._v("\n          邀請\n        ")])])])],1),s("div",{staticClass:"right row no-wrap justify-end q-gutter-xs"},[s("DashboardHeaderButton",[s("div",{staticClass:"row items-center no-wrap"},[s("q-icon",{staticClass:"q-pr-sm q-pl-xs",attrs:{name:"flash_on",size:"20px"}}),s("div",{staticClass:"q-pr-md"},[t._v("\n          自動化\n        ")])],1)]),s("DashboardHeaderButton",{nativeOn:{click:function(e){return t.showDrawer.apply(null,arguments)}}},[s("div",{staticClass:"row items-center no-wrap"},[s("q-icon",{staticClass:"q-pr-sm q-pl-xs",attrs:{name:"more_horiz",size:"20px"}}),s("div",{staticClass:"q-pr-md"},[t._v("\n          顯示選單\n        ")])],1)])],1)])},Qt=[],Nt=(s("498a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button-base",style:t.style},[t._t("default")],2)}),Ft=[],Yt={name:"DashboardHeaderButton",props:{padding:{type:String,default:()=>""}},computed:{style(){return this.padding?`padding: ${this.padding}`:null}}},Ut=Yt,Rt=(s("9a5b"),Object(u["a"])(Ut,Nt,Ft,!1,null,"0ec857bf",null)),Wt=Rt.exports,Xt={name:"DashboardHeader",components:{DashboardHeaderButton:Wt},data(){return{isShowTitleInput:!1,title:"減肥計劃",USER_AVATAR_PATH:U}},computed:z()({},Object(j["c"])("dashboard",["dashboardTitle"])),methods:z()(z()({},Object(j["b"])("dashboard",["showDrawer","setDashboardTitle"])),{},{hideTitleInput(){const t=this.$refs.titleInput.textContent.trim();t&&this.setDashboardTitle(t),this.isShowTitleInput=!1},showTitleInput(){this.isShowTitleInput=!0;const{titleInput:t}=this.$refs;t.innerHTML=this.dashboardTitle,setTimeout((()=>{t.focus()}),50)},handleFocus(t){const e=window.getSelection(),s=document.createRange();s.selectNodeContents(t.target),e.removeAllRanges(),e.addRange(s)}})},Vt=Xt,Jt=(s("11d8"),Object(u["a"])(Vt,Pt,Qt,!1,null,"08a84ca2",null)),Gt=Jt.exports;g()(Jt,"components",{QIcon:p["a"],QSeparator:S["a"],QAvatar:L["a"]});var Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row no-wrap list-wrapper"},[t._l(t.columns,(function(t){return s("DashList",{key:t.id,attrs:{column:t}})})),s("AddColumn")],2)},Zt=[],te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",staticClass:"wrapper"},[t.isShowInput?s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",staticClass:"input",attrs:{placeholder:"為列表輸入標題...",maxlength:"512"},domProps:{value:t.title},on:{blur:t.handleInputBlur,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit.apply(null,arguments)},input:function(e){e.target.composing||(t.title=e.target.value)}}}),s("div",{ref:"btnWrapper",staticClass:"row items-center btn-wrapper"},[s("div",{staticClass:"sure-btn q-py-sm q-px-md square-border cursor-pointer text-weight-medium",attrs:{tabindex:"2"},on:{click:t.handleSubmit,focus:t.handleFocus}},[t._v("\n        新增列表\n      ")]),s("q-icon",{staticClass:"cancel-btn",attrs:{size:"24px",name:"close"},on:{click:t.toggleInput}})],1)]):s("div",{staticClass:"placeholder row items-center fz-md",on:{click:t.toggleInput}},[s("q-icon",{staticStyle:{"margin-right":"2px"},attrs:{name:"add",size:"20px"}}),t._v("\n    新增其他列表\n  ")],1)])},ee=[],se={name:"AddColumn",data(){return{isShowInput:!1,title:"",timer:null}},methods:z()(z()({},Object(j["b"])("dashboard",["addColumn"])),{},{toggleInput(){this.isShowInput?this.hideInput():this.showInput()},showInput(){this.isShowInput=!0,setTimeout((()=>{this.$refs.input.focus(),this.$refs.btnWrapper.classList.add("show")}),0)},hideInput(){this.$refs.btnWrapper.classList.remove("show"),this.isShowInput=!1},handleInputBlur(){this.timer=setTimeout((()=>{this.hideInput()}),50)},handleFocus(){window.clearTimeout(this.timer)},handleSubmit(t){this.title?t.isComposing||(this.addColumn(this.title),this.title="",this.$refs.input.focus(),this.scrollToEnd()):this.$refs.input.focus()},scrollToEnd(){setTimeout((()=>{const{parentNode:t}=this.$refs.wrapper;t.scrollTo({top:0,left:t.scrollWidth,behavior:"smooth"})}),50)}})},ie=se,ae=(s("4456"),Object(u["a"])(ie,te,ee,!1,null,"52a18730",null)),ne=ae.exports;g()(ae,"components",{QIcon:p["a"]});var oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",staticClass:"dash-list-wraper",on:{mouseover:t.handleMouseOver}},[s("div",{ref:"list",staticClass:"dash-list relative-position",style:"top: "+t.top+"px; left: "+t.left+"px"},[s("DashListHeader",{ref:"header",attrs:{title:t.column.title,"column-index":t.column.columnIndex},nativeOn:{mousedown:function(e){return t.handleMouseDown.apply(null,arguments)},mousemove:function(e){return t.handleMouseMove.apply(null,arguments)},mouseup:function(e){return t.handleMouseUp.apply(null,arguments)}}}),s("div",{ref:"cardList",staticClass:"dash-card-list-wrapper"},t._l(t.column.cards,(function(t){return s("DashCard",{key:t.id,attrs:{card:t}})})),1),s("DashListFooter",{attrs:{"add-card":t.addCard}})],1),s("div",{staticClass:"shadow",style:"height: "+t.shadowHeight+"px"})])},re=[],le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dash-list-header relative-position"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editableTitle,expression:"editableTitle"}],ref:"textarea",staticClass:"editable title-input cursor-pointer",attrs:{rows:"1"},domProps:{value:t.editableTitle},on:{input:[function(e){e.target.composing||(t.editableTitle=e.target.value)},t.handleTextareaInput],focus:t.handleTextareaFocus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)}}}),s("div",{staticClass:"dash-list-header-icon flex flex-center cursor-pointer"},[s("q-icon",{staticStyle:{color:"#6b778c"},attrs:{name:"more_horiz",size:"20px"}}),s("ColumnHandleMenu",{attrs:{"column-index":t.columnIndex}})],1)])},ce=[],de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseMenu",{ref:"menu",attrs:{title:"列表動作"}},[s("div",{staticClass:"list-wrapper"},[t._l(t.menus,(function(e,i){return s("div",{key:i,staticClass:"menu-list"},[t._l(e,(function(e,i){return s("div",{key:i,staticClass:"list-item row items-center"},[t._v("\n        "+t._s(e)+"\n      ")])})),s("q-separator",{staticClass:"divide",staticStyle:{margin:"8px 12px"}})],2)})),s("div",{staticClass:"menu-list"},[s("div",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"list-item row items-center",attrs:{tabindex:"1"},on:{click:t.handleRemove}},[t._v("\n        封存這個列表\n      ")]),s("q-separator",{staticClass:"divide",staticStyle:{margin:"8px 12px"}})],1)],2)])},ue=[],he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-menu",{ref:"menu",attrs:{"max-width":"304px","max-height":"100vh",offset:[0,8],"transition-show":"none","transition-hide":"none"}},[s("div",{staticClass:"menu-wrapper"},[s("div",{staticClass:"menu-header relative-position flex flex-center"},[t._v("\n      "+t._s(t.title)+"\n      "),s("div",{staticClass:"close-btn absolute-top-right row justify-end items-center",on:{click:t.hide}},[s("q-icon",{staticStyle:{color:"inherit"},attrs:{name:"close",size:"16px"}})],1)]),t._t("default")],2)])},pe=[],me={name:"BaseMenu",props:{title:{type:String,required:!0}},methods:{hide(){this.$refs.menu.hide()}}},ge=me,ve=(s("b7d0"),Object(u["a"])(ge,he,pe,!1,null,"400eb5f8",null)),fe=ve.exports;g()(ve,"components",{QMenu:_["a"],QIcon:p["a"]});var be={name:"ColumnHandleMenu",components:{BaseMenu:fe},props:{columnIndex:{type:Number,required:!0}},data(){return{menus:[["新增卡片","複製列表…","移動列表…","立即觀看"],["排序依據…"],["移動這個列表的所有卡片…","封存這個列表的所有卡片…"]]}},methods:z()(z()({},Object(j["b"])("dashboard",["removeColumn"])),{},{handleRemove(){this.removeColumn(this.columnIndex),this.$refs.menu.hide()}})},we=be,xe=(s("c36c"),Object(u["a"])(we,de,ue,!1,null,"a7c0eaa8",null)),Ce=xe.exports;g()(xe,"components",{QSeparator:S["a"]}),g()(xe,"directives",{ClosePopup:P["a"]});var _e={name:"DashListHeader",components:{ColumnHandleMenu:Ce},props:{title:{type:String,required:!0},columnIndex:{type:Number,required:!0}},computed:{editableTitle:{get(){return this.title},set(t){this.setTitle(t)}}},mounted(){this.resetInputheight()},methods:z()(z()({},Object(j["b"])("dashboard",["setColumnTitle"])),{},{handleTextareaInput(){setTimeout((()=>{this.resetInputheight()}),0)},resetInputheight(){const{textarea:t}=this.$refs;t.style.height="auto";const e=t.scrollHeight;t.style.height=`${e}px`},handleTextareaFocus(){console.log("handleTextareaFocus"),this.$refs.textarea.select()},focus(){this.$refs.textarea.focus()},isFocus(){return document.activeElement===this.$refs.textarea},handleEnter(t){t.isComposing||(t.preventDefault(),this.$refs.textarea.blur())},setTitle(t){this.setColumnTitle({index:this.columnIndex,title:t})}})},Ie=_e,ye=(s("32d8"),Object(u["a"])(Ie,le,ce,!1,null,"34653483",null)),Se=ye.exports;g()(ye,"components",{QIcon:p["a"]});var qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"footer",staticClass:"footer-wrapper"},[t.isShowInput?s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"textarea",staticClass:"editable title-input",attrs:{placeholder:"為這張卡片輸入標題...",rows:"3"},domProps:{value:t.cardTitle},on:{input:[function(e){e.target.composing||(t.cardTitle=e.target.value)},t.handleTextareaInput],keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)}}}),s("div",{staticClass:"row items-center"},[s("div",{staticClass:"sure-btn q-py-sm q-px-md square-border cursor-pointer text-weight-medium",on:{click:t.handleAddCard}},[t._v("\n        新增卡片\n      ")]),s("q-icon",{staticClass:"cancel-btn",attrs:{size:"24px",name:"close"},on:{click:t.handleCancelClick}}),s("q-space"),s("div",{staticClass:"add-icon flex flex-center"},[s("q-icon",{staticStyle:{color:"#6b778c"},attrs:{name:"more_horiz",size:"24px"}})],1)],1)]):s("div",{staticClass:"row"},[s("div",{staticClass:"btn-wrapper row items-center cursor-pointer col square-border text-weight-medium",on:{click:t.handleAddClick}},[s("q-icon",{attrs:{name:"add",size:"18px"}}),t._v("\n      新增卡片\n    ")],1),s("div",{staticClass:"add-icon flex flex-center"},[s("q-icon",{staticStyle:{color:"inherit"},attrs:{name:"text_snippet"}})],1)])])},De=[],Me={name:"DashListFooter",props:{addCard:{type:Function,required:!0}},data(){return{isShowInput:!1,cardTitle:""}},methods:{handleAddClick(){this.isShowInput=!0,this.scrollToBottom()},scrollToBottom(){setTimeout((()=>{this.$refs.textarea.focus();const{parentNode:t}=this.$refs.footer;t.scrollTo({top:t.scrollHeight,left:0,behavior:"smooth"})}),50)},handleCancelClick(){this.isShowInput=!1},handleTextareaInput(){setTimeout((()=>{const{textarea:t}=this.$refs;t.style.height="auto";const e=t.scrollHeight;t.style.height=`${e}px`}),0)},handleAddCard(){this.cardTitle&&(this.addCard(this.cardTitle),this.cardTitle="",this.scrollToBottom())},handleEnter(t){t.isComposing||(t.preventDefault(),this.handleAddCard())}}},Te=Me,$e=(s("7784"),s("2c91")),ke=Object(u["a"])(Te,qe,De,!1,null,"9546db48",null),Be=ke.exports;g()(ke,"components",{QIcon:p["a"],QSpace:$e["a"]});var Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",staticClass:"card-wraper",on:{mouseover:t.handleMouseOver}},[s("div",{ref:"card",staticClass:"dash-card relative-position",style:"top: "+t.top+"px; left: "+t.left+"px",on:{mousedown:t.handleMouseDown,mousemove:t.handleMouseMove,mouseup:t.handleMouseUp}},[s("div",{staticClass:"row "},t._l(t.card.tags,(function(t,e){return s("div",{key:e,staticClass:"tag",style:"background-color: #"+t})})),0),s("div",{staticClass:"title"},[t._v("\n      "+t._s(t.card.title)+"\n    ")]),s("div",{staticClass:"card-detail row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.card.desc,expression:"card.desc"}],staticClass:"card-detail-item flex flex-center"},[s("q-icon",{attrs:{name:"subject",size:"16px"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.card.todos.length,expression:"card.todos.length"}],staticClass:"card-detail-item flex flex-center"},[s("q-icon",{attrs:{name:t.outlinedCheckBox,size:"16px"}}),s("div",{staticClass:"text"},[t._v("\n          "+t._s(t.todoStatusText)+"\n        ")])],1),s("q-space"),s("q-avatar",{directives:[{name:"show",rawName:"v-show",value:t.card.hasMember,expression:"card.hasMember"}],attrs:{size:"32px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}})])],1),s("div",{staticClass:"edit-btn absolute-top-right flex flex-center"},[s("q-icon",{attrs:{name:"mode_edit_outline"}})],1)]),s("div",{staticClass:"shadow",style:"height: "+t.shadowHeight+"px"})])},Ee=[],ze={name:"DashCard",props:{card:{type:Object,required:!0}},data(){return{isDraggable:!1,isMousePressing:!1,shadowHeight:0,top:0,left:0,offsetX:0,offsetY:0,originX:0,originY:0,outlinedCheckBox:mt["a"],USER_AVATAR_PATH:U}},computed:z()(z()({},Object(j["c"])("dashboard",["draggingItem"])),{},{todoStatusText(){let t=0,e=0;return this.card.todos.forEach((s=>{s.items.forEach((s=>{t+=1,s.isFinish&&(e+=1)}))})),`${e}/${t}`}}),methods:z()(z()({},Object(j["b"])("dashboard",["setIsShowDialog","setDialogCard","switchDraggingCardItem","insertDraggingCardItem","removeEmptyCard"])),{},{handleMouseUp(){!1!==this.isMousePressing&&(this.isMousePressing=!1,this.showCardDialog())},async showCardDialog(){await this.$router.push({params:{cardId:this.card.id}}),this.setDialogCard(this.card),this.setIsShowDialog(!0)},handleMouseDown(t){console.log({column:this.card.columnIndex,index:this.card.itemIndex}),this.isMousePressing=!0,this.originX=t.clientX,this.originY=t.clientY,this.offsetX=t.clientX-this.$refs.card.getBoundingClientRect().left,this.offsetY=t.clientY-this.$refs.card.getBoundingClientRect().top},handleMouseMove(t){if(!this.isMousePressing||this.isDraggable)return;const e=this.getMoveDistance(t.x,t.y);e>15&&(this.setCardDragable(),window.addEventListener("mousemove",this.handleWindowMouseMove),window.addEventListener("mouseup",this.handleWindowMouseUp))},handleWindowMouseUp(){this.cancelCardDragable(),window.removeEventListener("mousemove",this.handleWindowMouseMove),window.removeEventListener("mouseup",this.handleWindowMouseUp)},handleWindowMouseMove(t){this.top=t.clientY-this.offsetY,this.left=t.clientX-this.offsetX},setCardDragable(){const{height:t,width:e,top:s,left:i}=this.$refs.card.getBoundingClientRect();this.top=s,this.left=i,this.$refs.wrapper.style.pointerEvents="none",document.body.classList.add("grab"),this.$refs.card.style.width=`${e}px`,this.$refs.card.classList.add("draggable"),this.shadowHeight=t,this.isDraggable=!0;const a="dragging-item";this.$refs.wrapper.id=a;const n={id:this.card.id,node:a,item:this.card};this.$store.commit("dashboard/setDraggingItem",n)},cancelCardDragable(){this.$refs.card.classList.remove("draggable"),document.body.classList.remove("grab"),this.$refs.wrapper.style.removeProperty("pointer-events"),this.$refs.card.style.removeProperty("width"),this.$refs.card.style.removeProperty("top"),this.$refs.card.style.removeProperty("left"),this.$refs.wrapper.removeAttribute("id"),this.shadowHeight=0,this.isDraggable=!1,this.isMousePressing=!1,this.top=0,this.left=0,this.$store.commit("dashboard/setDraggingItem",null),this.removeEmptyCard()},getMoveDistance(t,e){return Math.sqrt((t-this.originX)**2+(e-this.originY)**2)},handleMouseOver(t){if(null===this.$store.state.dashboard.draggingItem)return;console.log("card wraper handleMouseOver"),t.stopPropagation();const{top:e,height:s}=this.$refs.wrapper.getBoundingClientRect(),i=e+s/2,a=t.clientY-i,n=this.$refs.wrapper,o=n.parentNode,r=document.getElementById(this.$store.state.dashboard.draggingItem.node),l=r.parentNode;l.removeChild(r);const c=this.draggingItem.item.columnIndex===this.card.columnIndex;if(c)return a>0?o.insertBefore(r,n):o.insertBefore(r,n.nextSibling),void this.switchDraggingCardItem(this.card);a>0?(this.insertDraggingCardItem({columnIndex:this.card.columnIndex,itemIndex:this.card.itemIndex+1}),o.insertBefore(r,n.nextSibling)):(this.insertDraggingCardItem({columnIndex:this.card.columnIndex,itemIndex:this.card.itemIndex}),o.insertBefore(r,n))}})},je=ze,Oe=(s("96c7"),Object(u["a"])(je,Ae,Ee,!1,null,"4c9823bb",null)),He=Oe.exports;g()(Oe,"components",{QIcon:p["a"],QSpace:$e["a"],QAvatar:L["a"]});var Le={name:"DashList",components:{DashListHeader:Se,DashListFooter:Be,DashCard:He},props:{column:{type:Object,required:!0}},data(){return{isDraggable:!1,isMousePressing:!1,shadowHeight:0,hasMoved:!1,top:0,left:0}},computed:z()({},Object(j["c"])("dashboard",["draggingList","draggingItem"])),methods:z()(z()({},Object(j["b"])("dashboard",["switchDraggingColumn","addColumnCard","insertDraggingCardItem"])),{},{handleMouseUp(t){if(console.log("handleMouseUp"),!1===this.isMousePressing)return;const e=t.path.includes(this.$refs.header.$refs.textarea);this.isMousePressing=!1,!1===this.$refs.header.isFocus()&&e&&this.$refs.header.focus()},handleMouseDown(t){console.log("handleMouseDown"),this.$refs.header.isFocus()?console.log("打字中"):(t.stopPropagation(),t.preventDefault(),this.isMousePressing=!0,this.originX=t.clientX,this.originY=t.clientY,this.offsetX=t.clientX-this.$refs.wrapper.getBoundingClientRect().left,this.offsetY=t.clientY-this.$refs.wrapper.getBoundingClientRect().top)},handleMouseMove(t){if(!this.isMousePressing||this.isDraggable)return;console.log("handleMouseMove");const e=this.getMoveDistance(t.x,t.y);e>15&&(this.setCardDragable(),window.addEventListener("mousemove",this.handleWindowMouseMove),window.addEventListener("mouseup",this.handleWindowMouseUp))},handleWindowMouseUp(){console.log("handleWindowMouseUp"),this.cancelCardDragable(),window.removeEventListener("mousemove",this.handleWindowMouseMove),window.removeEventListener("mouseup",this.handleWindowMouseUp)},handleWindowMouseMove(t){this.top=t.clientY-this.offsetY,this.left=t.clientX-this.offsetX},setCardDragable(){const{height:t,width:e,top:s,left:i}=this.$refs.list.getBoundingClientRect();this.top=s,this.left=i,this.$refs.wrapper.style.pointerEvents="none",document.body.classList.add("grab"),this.$refs.list.style.width=`${e}px`,this.$refs.list.classList.add("draggable"),this.shadowHeight=t,this.isDraggable=!0;const a="dragging-list";this.$refs.wrapper.id=a;const n={id:"testId",node:a,item:this.column};this.$store.commit("dashboard/setDraggingList",n)},cancelCardDragable(){this.$refs.list.classList.remove("draggable"),document.body.classList.remove("grab"),this.$refs.wrapper.style.removeProperty("pointer-events"),this.$refs.list.style.removeProperty("width"),this.$refs.list.style.removeProperty("top"),this.$refs.list.style.removeProperty("left"),this.$refs.wrapper.removeAttribute("id"),this.shadowHeight=0,this.isDraggable=!1,this.isMousePressing=!1,this.top=0,this.left=0,this.$store.commit("dashboard/setDraggingList",null)},getMoveDistance(t,e){return Math.sqrt((t-this.originX)**2+(e-this.originY)**2)},handleMouseOver(t){if(null===this.draggingList&&null===this.draggingItem)return;console.log(`handleMouseEnter index:${this.column.columnIndex}`);const{left:e,width:s}=this.$refs.wrapper.getBoundingClientRect(),i=t.clientX-e,a=Math.abs(i),n=a>s/2;if(null!==this.draggingItem){if(this.draggingItem.item.columnIndex===this.column.columnIndex)return;const{top:e}=this.$refs.cardList.getBoundingClientRect(),s=t.clientY-e,i=s>0,a=document.getElementById(this.draggingItem.node),n=a.parentNode;n.removeChild(a);const o=this.$refs.cardList;let r=0;return i?(o.appendChild(a),r=this.column.cards.length):o.prepend(a),void this.insertDraggingCardItem({columnIndex:this.column.columnIndex,itemIndex:r})}const o=this.$refs.wrapper,r=o.parentNode,l=document.getElementById(this.$store.state.dashboard.draggingList.node),c=l.parentNode;c.removeChild(l),n?r.insertBefore(l,o):r.insertBefore(l,o.nextSibling),this.switchDraggingColumn(this.column.columnIndex)},addCard(t){this.addColumnCard({index:this.column.columnIndex,title:t})}})},Pe=Le,Qe=(s("6511"),Object(u["a"])(Pe,oe,re,!1,null,"7b9a3f38",null)),Ne=Qe.exports,Fe={name:"DashBoardBody",components:{AddColumn:ne,DashList:Ne},data(){return{}},computed:{columns(){return this.$store.state.dashboard.columns}}},Ye=Fe,Ue=(s("369b"),Object(u["a"])(Ye,Kt,Zt,!1,null,"261012a4",null)),Re=Ue.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{ref:"dialog",staticClass:"non-selectable",attrs:{maximized:"","transition-show":"none","transition-hide":"none"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[s("div",{staticClass:"row justify-center relative-position",on:{click:t.handleBackDropClick}},[s("div",{ref:"dialogCard",staticClass:"dialog-card"},[s("div",{staticClass:"close-btn flex flex-center absolute-top-right",on:{click:t.hideDialog}},[s("q-icon",{attrs:{name:"close",size:"20px"}})],1),s("CardHeader",{staticClass:"non-selectable"}),s("CardContent",{staticClass:"non-selectable"}),s("CardSide",{staticClass:"non-selectable"})],1)])])},Xe=[],Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header non-selectable"},[s("span",{staticClass:"title-icon flex flex-center",staticStyle:{top:"4px"}},[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:t.outlinedTopic,size:"24px"}})],1),s("div",{staticStyle:{margin:"4px 0 -1px",padding:"8px 0 0"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editableTitle,expression:"editableTitle"}],ref:"textarea",staticClass:"editable title-input cursor-pointer",attrs:{rows:"1",spellcheck:"false"},domProps:{value:t.editableTitle},on:{input:[function(e){e.target.composing||(t.editableTitle=e.target.value)},t.handleTextareaInput],keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},focus:t.handleFocus,blur:t.handleBlur}})]),s("div",{staticStyle:{margin:"2px 8px 5px 2px"}},[t._v("\n    在「"),s("span",{staticClass:"column-title"},[t._v(t._s(t.columnTitle))]),t._v("」列表中\n  ")])])},Je=[],Ge={name:"CardHeader",data(){return{outlinedTopic:mt["c"],tempTitle:""}},computed:z()(z()({},Object(j["c"])("dashboard",["dialogCard","columns"])),{},{editableTitle:{get(){return this.dialogCard.title},set(t){this.setDialogCardTitle(t)}},columnTitle(){return this.columns[this.dialogCard.columnIndex].title}}),mounted(){this.resetInputheight()},methods:z()(z()({},Object(j["b"])("dashboard",["setDialogCardTitle"])),{},{handleTextareaInput(){setTimeout((()=>{this.resetInputheight()}),0)},resetInputheight(){const{textarea:t}=this.$refs;t.style.height="auto";const e=t.scrollHeight;t.style.height=`${e}px`},handleEnter(t){t.isComposing||(t.preventDefault(),this.$refs.textarea.blur())},handleFocus(){this.tempTitle=this.dialogCard.title},handleBlur(){this.dialogCard.title||this.setDialogCardTitle(this.tempTitle)}})},Ke=Ge,Ze=(s("a4ef"),Object(u["a"])(Ke,Ve,Je,!1,null,"134b9763",null)),ts=Ze.exports;g()(Ze,"components",{QIcon:p["a"]});var es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content non-selectable"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogCard.tags.length>0||t.dialogCard.hasMember,expression:"dialogCard.tags.length > 0 || dialogCard.hasMember"}],staticClass:"module"},[s("div",{staticClass:"content-wrapper row",staticStyle:{"margin-top":"8px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogCard.hasMember,expression:"dialogCard.hasMember"}],staticStyle:{"margin-right":"8px"}},[s("div",{staticClass:"label"},[t._v("\n          成員\n        ")]),s("div",{staticClass:"tag-wrapper row wrap"},[s("q-avatar",{staticClass:"q-mr-sm cursor-pointer",attrs:{size:"32px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}})]),s("div",{staticClass:"add-tag-btn flex flex-center",staticStyle:{"border-radius":"50%"}},[s("q-icon",{attrs:{name:"add",size:"20px"}}),s("AddMemberMenu")],1)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogCard.tags.length>0,expression:"dialogCard.tags.length > 0"}]},[s("div",{staticClass:"label"},[t._v("\n          標籤\n        ")]),s("div",{staticClass:"tag-wrapper row wrap"},[t._l(t.dialogCard.tags,(function(t,e){return s("div",{key:e,staticClass:"tag",style:"background-color: #"+t},[s("AddTagMenu")],1)})),s("div",{staticClass:"add-tag-btn flex flex-center"},[s("q-icon",{attrs:{name:"add",size:"20px"}}),s("AddTagMenu")],1)],2)])])]),s("div",{staticClass:"module"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-icon flex flex-center"},[s("q-icon",{attrs:{name:"subject",size:"24px"}})],1),s("div",{staticClass:"header-label"},[t._v("\n        描述\n      ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogCard.desc&&!t.isShowDescriptInput,expression:"dialogCard.desc && !isShowDescriptInput"}],staticClass:"helper",staticStyle:{"margin-left":"8px"},on:{click:t.showDescriptInput}},[t._v("\n        編輯\n      ")])]),s("div",{staticClass:"content-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogCard.desc&&!t.isShowDescriptInput,expression:"dialogCard.desc && !isShowDescriptInput"}],staticClass:"cursor-pointer",staticStyle:{"margin-bottom":"8px"},on:{click:t.showDescriptInput}},[t._v("\n        "+t._s(t.dialogCard.desc)+"\n      ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.dialogCard.desc&&!t.isShowDescriptInput,expression:"!dialogCard.desc && !isShowDescriptInput"}],staticClass:"descript-placehodler",on:{click:t.showDescriptInput}},[t._v("\n        新增更詳細的敘述…\n      ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDescriptInput,expression:"isShowDescriptInput"}]},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],ref:"textarea",staticClass:"editable descript-input",attrs:{rows:"5",placeholder:"新增更詳細的敘述…"},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},t.handleTextareaInput],blur:t.handleTextareaBlur}}),s("div",{staticClass:"row items-center"},[s("div",{staticClass:"save-btn q-py-sm q-px-md square-border cursor-pointer text-weight-medium"},[t._v("\n            儲存\n          ")]),s("q-icon",{staticClass:"cursor-pointer",staticStyle:{color:"#42526e","margin-left":"7px"},attrs:{tabindex:"2",size:"24px",name:"close"},on:{focus:t.handleCancelFocus,click:t.handleCancelClick}}),s("q-space"),s("div",{staticClass:"helper"},[t._v("\n            格式設定說明\n          ")])],1)])])]),s("div",t._l(t.dialogCard.todos,(function(t){return s("CardTodoList",{key:t.id,staticClass:"module",attrs:{todo:t}})})),1),s("div",{staticClass:"module"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-icon flex flex-center"},[s("q-icon",{attrs:{name:"format_list_numbered_rtl",size:"24px"}})],1),s("div",{staticClass:"header-label"},[t._v("\n        活動\n      ")]),s("q-space"),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogCard.actions.length>0,expression:"dialogCard.actions.length > 0"}],staticClass:"helper",on:{click:t.toggleActionList}},[t._v("\n        "+t._s(t.isShowActions?"隱藏詳情":"顯示詳情")+"\n      ")])],1),s("div",{staticClass:"action relative-position",staticStyle:{"padding-top":"0"}},[s("q-avatar",{staticClass:"cursor-pointer absolute-top-left",attrs:{size:"32px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}})]),s("div",{staticClass:"comment-wrapper relative-position",class:t.isShowCommentBtn?"show":""},[s("textarea",{ref:"comment",staticClass:"comment-input",attrs:{rows:"1",placeholder:"撰寫評論"},on:{input:t.handleCommentInput,focus:t.toggleShowCommentBtn,blur:t.toggleShowCommentBtn}}),s("div",{staticClass:"comment-btn-wrapper row items-center absolute-bottom-left full-width"},[s("div",{staticClass:"save-btn q-py-sm q-px-md square-border text-weight-medium"},[t._v("\n            儲存\n          ")]),s("q-space"),t._l(t.commentBtnIcons,(function(t,e){return s("div",{key:e,staticClass:"flex flex-center comment-btn"},[s("q-icon",{staticStyle:{color:"inherit"},attrs:{size:"16px",name:t}})],1)}))],2)])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowActions,expression:"isShowActions"}],staticClass:"action-list-wrapper"},t._l(t.dialogCard.actions,(function(e,i){return s("div",{key:i,staticClass:"action relative-position"},[s("q-avatar",{staticClass:"cursor-pointer absolute-top-left",staticStyle:{"margin-top":"8px"},attrs:{size:"32px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}})]),s("div",{staticClass:"text"},[s("span",{staticClass:"name cursor-pointer"},[t._v("查理布朗")]),t._v("\n          "+t._s(e.text)+"\n        ")]),s("div",{staticClass:"time"},[t._v("\n          "+t._s(t.getFriendilyTimeString(e.time))+"\n        ")])],1)})),0)])])},ss=[],is=(s("e01a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",on:{mouseenter:t.handleMouseEnter}},[s("div",{ref:"list",staticClass:"relative-position todo-list",style:"top: "+t.top+"px; left: "+t.left+"px"},[s("div",{staticClass:"header"},[s("div",{staticClass:"header-icon flex flex-center"},[s("q-icon",{attrs:{name:t.outlinedCheckBox,size:"24px"}})],1),s("div",{staticClass:"header-label cursor-pointer",on:{mousedown:t.handleMouseDown,mouseup:t.handleMouseUp,mousemove:t.handleMouseMove}},[t._v("\n        "+t._s(t.todo.title)+"\n      ")]),s("q-space"),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShwoToggleFinishBtn,expression:"isShwoToggleFinishBtn"}],staticClass:"helper",staticStyle:{"margin-right":"8px"},on:{click:t.toggleFinishItem}},[t._v("\n        "+t._s(t.toggleFinishBtnText)+"\n      ")]),s("div",{staticClass:"helper"},[t._v("\n        刪除\n        "),s("DeleteTodoMenu",{attrs:{"todo-index":t.todo.todoIndex,title:t.todo.title}})],1)],1),s("div",{staticClass:"progress-bar-wrapper"},[s("span",{staticClass:"progress-value"},[t._v(t._s(t.getFinishPercentage(t.todo))+"%")]),s("div",{staticClass:"progress-bar-track"},[s("div",{staticClass:"progress-bar",style:"width: "+t.getFinishPercentage(t.todo)+"%"})])]),s("div",{ref:"itemList"},t._l(t.todo.items,(function(e){return s("CardTodoItem",{key:e.id,class:e.isFinish&&!t.isShwoFinishItem?"hide":"",attrs:{"todo-item":e}})})),1),s("div",{staticClass:"add-item-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowInput,expression:"!isShowInput"}],staticClass:"helper",on:{click:t.showInput}},[t._v("\n        增加項目\n      ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowInput,expression:"isShowInput"}]},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],ref:"textarea",staticClass:"editable label-input",attrs:{rows:"2",placeholder:"增加項目"},domProps:{value:t.label},on:{blur:t.handleTextareaBlur,input:[function(e){e.target.composing||(t.label=e.target.value)},t.handleTextareaInput]}}),s("div",{staticClass:"row items-center",staticStyle:{"margin-top":"8px"}},[s("div",{staticClass:"save-btn q-py-sm q-px-md square-border cursor-pointer text-weight-medium"},[t._v("\n            新增\n          ")]),s("q-icon",{staticClass:"cursor-pointer",staticStyle:{color:"#42526e","margin-left":"7px"},attrs:{tabindex:"2",size:"24px",name:"close"},on:{focus:t.handleCancelFocus,click:t.handleCancelClick}}),s("q-space"),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"person_add_alt"}}),s("div",{staticClass:"check-option-label"},[t._v("\n              指派\n            ")])],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"schedule"}}),s("div",{staticClass:"check-option-label"},[t._v("\n              到期日\n            ")])],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"sentiment_satisfied_alt"}})],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"alternate_email"}})],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"more_horiz"}})],1)],1)])])]),s("div",{staticClass:"shadow",style:"height: "+t.shadowHeight+"px"})])}),as=[],ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.todoItem?s("div",{ref:"wrapper",staticClass:"non-selectable",on:{mouseenter:t.handleMouseEnter}},[s("div",{ref:"todo",staticClass:"todo-wrapper",style:"top: "+t.top+"px; left: "+t.left+"px"},[s("div",{staticClass:"todo-checkbox flex-center flex",class:t.todoItem.isFinish?"checked":"",on:{click:t.toggleItemIsFinish}},[s("q-icon",{staticClass:"checkbox-icon",attrs:{name:"done",color:"white"}})],1),s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowInput,expression:"!isShowInput"}],staticClass:"todo-content-wrapper row"},[s("div",{staticClass:"todo-content col",class:t.todoItem.isFinish?"checked":"",attrs:{tabindex:"1"},on:{mousedown:t.handleMouseDown,mouseup:t.handleMouseUp,mousemove:t.handleMouseMove}},[t._v("\n          "+t._s(t.todoItem.label)+"\n        ")]),s("div",{staticClass:"option row"},[s("div",{staticClass:"option-item flex flex-center"},[s("q-icon",{attrs:{name:"schedule"}})],1),s("div",{staticClass:"option-item flex flex-center round"},[s("q-icon",{attrs:{name:"person_add_alt"}})],1),s("div",{staticClass:"option-item flex flex-center"},[s("q-icon",{attrs:{name:"more_horiz"}}),s("DeleteTodoItemMenu",{attrs:{"todo-index":t.todoItem.todoIndex,"item-index":t.todoItem.itemIndex}})],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowInput,expression:"isShowInput"}],staticStyle:{"padding-bottom":"9px"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],ref:"textarea",staticClass:"label-input",attrs:{rows:"2"},domProps:{value:t.label},on:{blur:t.handleTextareaBlur,input:[function(e){e.target.composing||(t.label=e.target.value)},t.handleTextareaInput]}}),s("div",{staticClass:"row items-center"},[s("div",{staticClass:"save-btn q-py-sm q-px-md square-border cursor-pointer text-weight-medium"},[t._v("\n            儲存\n          ")]),s("q-icon",{staticClass:"cursor-pointer",staticStyle:{color:"#42526e","margin-left":"7px"},attrs:{tabindex:"2",size:"24px",name:"close"},on:{focus:t.handleCancelFocus,click:t.handleCancelClick}}),s("q-space"),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"person_add_alt"}}),s("div",{staticClass:"check-option-label"},[t._v("\n              指派\n            ")])],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"schedule"}}),s("div",{staticClass:"check-option-label"},[t._v("\n              到期日\n            ")])],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"sentiment_satisfied_alt"}})],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"alternate_email"}})],1),s("div",{staticClass:"row items-center check-option no-wrap"},[s("q-icon",{attrs:{name:"more_horiz"}})],1)],1)])])]),s("div",{staticClass:"shadow",style:"height: "+t.shadowHeight+"px"})]):t._e()},os=[],rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseMenu",{ref:"menu",attrs:{title:"項目動作"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"list-item"},[t._v("\n      轉換為卡片\n    ")]),s("div",{staticClass:"list-item",on:{click:t.handleDelete}},[t._v("\n      刪除\n    ")])])])},ls=[],cs={name:"DeleteTodoItemMenu",components:{BaseMenu:fe},props:{todoIndex:{type:Number,required:!0},itemIndex:{type:Number,required:!0}},methods:z()(z()({},Object(j["b"])("dashboard",["removeDialogCardTodoItem"])),{},{handleDelete(){this.removeDialogCardTodoItem({todoIndex:this.todoIndex,itemIndex:this.itemIndex})}})},ds=cs,us=(s("2ac2"),Object(u["a"])(ds,rs,ls,!1,null,"058cf911",null)),hs=us.exports,ps={name:"CardTodoItem",components:{DeleteTodoItemMenu:hs},props:{todoItem:{type:Object,required:!0}},data(){return{isShowInput:!1,label:"",inputHideTimer:null,shadowHeight:0,top:0,left:0,isMousePressing:!1,isDraggable:!1,originY:0,offsetY:0}},computed:z()({},Object(j["c"])("dashboard",["draggingItem"])),methods:z()(z()({},Object(j["b"])("dashboard",["updateTodoItem","setDraggingItem","switchDraggingTodoItem","removeEmptyTodoItem","toggleTodoItemStatus"])),{},{showInput(){this.isShowInput=!0,this.label=this.todoItem.label,setTimeout((()=>{this.resetInputheight(),this.$refs.textarea.focus()}),20)},resetInputheight(){const{textarea:t}=this.$refs;t.style.height="auto";const e=t.scrollHeight;t.style.height=`${e}px`},handleTextareaBlur(){this.inputHideTimer=setTimeout((()=>{this.setItemLabel(),this.isShowInput=!1}),50)},setItemLabel(){const t=z()(z()({},this.todoItem),{},{label:this.label});this.updateItem(t)},toggleItemIsFinish(){this.toggleTodoItemStatus({todoIndex:this.todoItem.todoIndex,itemIndex:this.todoItem.itemIndex})},handleTextareaInput(){setTimeout((()=>{this.resetInputheight()}),0)},updateItem(t){this.updateTodoItem({todoIndex:this.todoItem.todoIndex,itemIndex:this.todoItem.itemIndex,item:t})},handleCancelClick(){this.isShowInput=!1},handleCancelFocus(){window.clearTimeout(this.inputHideTimer)},handleMouseUp(){!1!==this.isMousePressing&&(console.log("handleMouseUp"),this.isMousePressing=!1,this.showInput())},handleMouseDown(t){console.log("handleMouseDown"),console.log({todo:this.todoItem.todoIndex,index:this.todoItem.itemIndex}),t.stopPropagation(),t.preventDefault(),this.isMousePressing=!0,this.originY=t.clientY,this.offsetY=t.clientY-this.$refs.todo.getBoundingClientRect().top},handleMouseMove(t){if(!this.isMousePressing||this.isDraggable)return;console.log("handleMouseMove");const e=this.getMoveDistanceY(t.y);e>1&&(this.setCardDragable(),window.addEventListener("mousemove",this.handleWindowMouseMove),window.addEventListener("mouseup",this.handleWindowMouseUp))},handleWindowMouseUp(){console.log("handleWindowMouseUp"),this.cancelCardDragable(),window.removeEventListener("mousemove",this.handleWindowMouseMove),window.removeEventListener("mouseup",this.handleWindowMouseUp)},handleWindowMouseMove(t){this.top=t.clientY-this.offsetY,this.left=t.clientX-this.offsetX},setCardDragable(){const{height:t,width:e,top:s,left:i}=this.$refs.todo.getBoundingClientRect();this.top=s,this.left=i,this.$refs.wrapper.style.pointerEvents="none",document.body.classList.add("grab"),this.$refs.todo.style.width=`${e}px`,this.$refs.todo.classList.add("draggableNr"),this.$refs.todo.classList.add("dragging"),this.shadowHeight=t,this.isDraggable=!0;const a="dragging-list";this.$refs.wrapper.id=a;const n={node:a,item:this.todoItem};this.setDraggingItem(n)},cancelCardDragable(){this.$refs.todo.classList.remove("draggableNr"),this.$refs.todo.classList.remove("dragging"),document.body.classList.remove("grab"),this.$refs.wrapper.style.removeProperty("pointer-events"),this.$refs.todo.style.removeProperty("width"),this.$refs.todo.style.removeProperty("top"),this.$refs.todo.style.removeProperty("left"),this.$refs.wrapper.removeAttribute("id"),this.shadowHeight=0,this.isDraggable=!1,this.isMousePressing=!1,this.top=0,this.left=0,this.setDraggingItem(null),this.removeEmptyTodoItem()},getMoveDistanceY(t){return Math.abs(t-this.originY)},handleMouseEnter(t){if(null===this.draggingItem)return;console.log(`item handleMouseEnter todoIndex:${this.todoItem.todoIndex} index:${this.todoItem.itemIndex}`);const{top:e,height:s}=this.$refs.wrapper.getBoundingClientRect(),i=t.clientY-e,a=Math.abs(i),n=a>s/2;console.log({deltaY:a,height:s});const o=this.$refs.wrapper,r=o.parentNode,l=document.getElementById(this.draggingItem.node),c=l.parentNode;c.removeChild(l),n?r.insertBefore(l,o):r.insertBefore(l,o.nextSibling),this.switchDraggingTodoItem(this.todoItem)}})},ms=ps,gs=(s("2f82"),Object(u["a"])(ms,ns,os,!1,null,"7a4e71ae",null)),vs=gs.exports;g()(gs,"components",{QIcon:p["a"],QSpace:$e["a"]});var fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseMenu",{ref:"menu",attrs:{title:"要刪除 "+t.title+" 嗎？"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"q-mb-sm"},[t._v("\n      刪除待辦清單是永久性的，無法復原。\n    ")]),s("div",{staticClass:"btn flex flex-center",on:{click:t.handleDelete}},[t._v("\n      刪除待辦清單\n    ")])])])},bs=[],ws={name:"DeleteTodoMenu",components:{BaseMenu:fe},props:{title:{type:String,required:!0},todoIndex:{type:Number,required:!0}},methods:z()(z()({},Object(j["b"])("dashboard",["removeDialogCardTodo"])),{},{handleDelete(){this.removeDialogCardTodo(this.todoIndex)}})},xs=ws,Cs=(s("5426"),Object(u["a"])(xs,fs,bs,!1,null,"fbd717b8",null)),_s=Cs.exports,Is={name:"CardTodoList",components:{CardTodoItem:vs,DeleteTodoMenu:_s},props:{todo:{type:Object,required:!0}},data(){return{outlinedCheckBox:mt["a"],label:"",isShowInput:!1,inputHideTimer:null,isShwoFinishItem:!0,shadowHeight:0,top:0,left:0,isMousePressing:!1,isDraggable:!1,originY:0,offsetY:0}},computed:z()(z()({},Object(j["c"])("dashboard",["draggingList","draggingItem"])),{},{isShwoToggleFinishBtn(){return this.todo.items.some((t=>t.isFinish))},toggleFinishBtnText(){if(this.isShwoFinishItem)return"隱藏已打勾的項目";const t=this.todo.items.filter((t=>t.isFinish)).length;return`顯示已打勾的項目(${t})`}}),methods:z()(z()({},Object(j["b"])("dashboard",["addTodoItem","switchDraggingTodo","insertDraggingTodoItem"])),{},{handleTextareaInput(){setTimeout((()=>{this.resetInputheight()}),0)},toggleFinishItem(){this.isShwoFinishItem=!this.isShwoFinishItem},resetInputheight(){const{textarea:t}=this.$refs;t.style.height="auto";const e=t.scrollHeight;t.style.height=`${e}px`},handleCancelClick(){this.isShowInput=!1},handleCancelFocus(){window.clearTimeout(this.inputHideTimer)},addItem(){this.addTodoItem({label:this.label,todoIndex:this.todo.todoIndex}),this.label=""},handleTextareaBlur(){this.inputHideTimer=setTimeout((()=>{this.addItem(),this.isShowInput=!1}),50)},showInput(){this.isShowInput=!0,setTimeout((()=>{this.resetInputheight(),this.$refs.textarea.focus()}),0)},getFinishPercentage(t){if(0===t.items.length)return 0;let e=0;return t.items.forEach((t=>{t.isFinish&&(e+=1)})),Math.ceil(100*e/t.items.length)},handleMouseUp(){console.log("handleMouseUp"),this.isMousePressing=!1},handleMouseDown(t){console.log("handleMouseDown"),t.stopPropagation(),t.preventDefault(),this.isMousePressing=!0,this.originY=t.clientY,this.offsetY=t.clientY-this.$refs.wrapper.getBoundingClientRect().top},handleMouseMove(t){if(!this.isMousePressing||this.isDraggable)return;console.log("handleMouseMove");const e=this.getMoveDistanceY(t.y);e>5&&(this.setCardDragable(),window.addEventListener("mousemove",this.handleWindowMouseMove),window.addEventListener("mouseup",this.handleWindowMouseUp))},handleWindowMouseUp(){console.log("handleWindowMouseUp"),this.cancelCardDragable(),window.removeEventListener("mousemove",this.handleWindowMouseMove),window.removeEventListener("mouseup",this.handleWindowMouseUp)},handleWindowMouseMove(t){this.top=t.clientY-this.offsetY,this.left=t.clientX-this.offsetX},setCardDragable(){const{height:t,width:e,top:s,left:i}=this.$refs.list.getBoundingClientRect();this.top=s,this.left=i,this.$refs.wrapper.style.pointerEvents="none",document.body.classList.add("grab"),this.$refs.list.style.width=`${e}px`,this.$refs.list.classList.add("draggableNr"),this.$refs.list.classList.add("dragging"),this.shadowHeight=t,this.isDraggable=!0;const a="dragging-list";this.$refs.wrapper.id=a;const n={id:"testId",node:a,item:this.todo};this.$store.commit("dashboard/setDraggingList",n)},cancelCardDragable(){this.$refs.list.classList.remove("draggableNr"),this.$refs.list.classList.remove("dragging"),document.body.classList.remove("grab"),this.$refs.wrapper.style.removeProperty("pointer-events"),this.$refs.list.style.removeProperty("width"),this.$refs.list.style.removeProperty("top"),this.$refs.list.style.removeProperty("left"),this.$refs.wrapper.removeAttribute("id"),this.shadowHeight=0,this.isDraggable=!1,this.isMousePressing=!1,this.top=0,this.left=0,this.$store.commit("dashboard/setDraggingList",null)},getMoveDistanceY(t){return Math.abs(t-this.originY)},handleMouseEnter(t){if(null===this.draggingList&&null===this.draggingItem)return;console.log(`todo handleMouseEnter todoIndex:${this.todo.todoIndex}`);const{top:e,height:s}=this.$refs.wrapper.getBoundingClientRect(),i=t.clientY-e,a=Math.abs(i),n=a>s/2;if(console.log({deltaY:a}),null!==this.draggingItem){const t=document.getElementById(this.draggingItem.node),e=t.parentNode;e.removeChild(t);const s=this.$refs.itemList;let i=0;return n?(s.appendChild(t),i=this.todo.items.length):s.prepend(t),void this.insertDraggingTodoItem({todoIndex:this.todo.todoIndex,itemIndex:i})}const o=document.getElementById(this.draggingList.node),r=o.parentNode;r.removeChild(o);const l=this.$refs.wrapper,c=l.parentNode;n?c.insertBefore(o,l):c.insertBefore(o,l.nextSibling),this.switchDraggingTodo(this.todo.todoIndex)}})},ys=Is,Ss=(s("8791"),Object(u["a"])(ys,is,as,!1,null,"b71c3824",null)),qs=Ss.exports;g()(Ss,"components",{QIcon:p["a"],QSpace:$e["a"]});var Ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseMenu",{ref:"menu",attrs:{title:"標籤"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"label"},[t._v("\n      標籤\n    ")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tagLabel,expression:"tagLabel",modifiers:{trim:!0}}],ref:"input",staticClass:"label-input",attrs:{placeholder:"搜尋標籤..."},domProps:{value:t.tagLabel},on:{input:function(e){e.target.composing||(t.tagLabel=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"tag-list"},t._l(t.tagOptions,(function(e,i){return s("div",{key:i,staticClass:"tag-wrapper relative-position cursor-pointer"},[s("div",{staticClass:"tag relative-position",style:"background-color: #"+e,on:{mouseover:function(s){return t.handleTagHover(s,e)},mouseleave:t.handleTagUnhover,click:function(s){return t.handleTagClick(e)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasSelected(e),expression:"hasSelected(tag)"}],staticClass:"tag-icon flex flex-center absolute-top-right"},[s("q-icon",{attrs:{name:"check",color:"white"}})],1)]),s("div",{staticClass:"absolute-top-right tag-edit-icon flex flex-center cursor-pointer"},[s("q-icon",{staticStyle:{color:"#42526e"},attrs:{name:"create",size:"16px"}})],1)])})),0),s("div",{staticClass:"btn flex flex-center"},[t._v("\n      建立新標籤\n    ")]),s("q-separator",{staticStyle:{margin:"16px 0"}}),s("div",{staticClass:"btn flex flex-center"},[t._v("\n      啟用色覺辨認障礙友善模式\n    ")])],1)])},Ms=[],Ts={name:"AddTagMenu",components:{BaseMenu:fe},data(){return{tagLabel:"",tagOptions:F}},computed:z()(z()({},Object(j["c"])("dashboard",["dialogCard"])),{},{tags(){return this.dialogCard.tags}}),methods:z()(z()({},Object(j["b"])("dashboard",["addDialogCardTag","removeDialogCardTag"])),{},{handleTagHover(t,e){const s=t.target;s.style.boxShadow=`-8px 0 #${e}`},handleTagUnhover(t){const e=t.target;e.style.boxShadow="none"},hasSelected(t){return this.tags.includes(t)},handleTagClick(t){this.hasSelected(t)?this.removeDialogCardTag(t):this.addDialogCardTag(t)}})},$s=Ts,ks=(s("860b"),Object(u["a"])($s,Ds,Ms,!1,null,"90bfedc6",null)),Bs=ks.exports;g()(ks,"components",{QIcon:p["a"],QSeparator:S["a"]});var As=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseMenu",{ref:"menu",attrs:{title:"成員"}},[s("div",{staticClass:"wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],ref:"input",staticClass:"label-input",attrs:{placeholder:"搜尋成員",autofocus:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"label"},[t._v("\n      看板成員\n    ")]),s("div",{staticClass:"member-option row items-center relative-position",on:{click:t.toggleDialogCardHasMember}},[s("q-avatar",{attrs:{size:"32px"}},[s("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.USER_AVATAR_PATH}})]),s("div",{staticClass:"name"},[t._v("\n        查理布朗 (CharleyBrown)\n      ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogCard.hasMember,expression:"dialogCard.hasMember"}],staticClass:"check flex flex-center absolute-top-right"},[s("q-icon",{attrs:{name:"check",color:"inherit"}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.name,expression:"name"}],staticClass:"q-mt-md"},[s("div",{staticClass:"label q-mt-md"},[t._v("\n        工作區成員\n      ")]),s("div",{staticClass:"empty-result"},[t._v("\n        沒有結果\n      ")])])])])},Es=[],zs={name:"AddMemberMenu",components:{BaseMenu:fe},data(){return{name:"",USER_AVATAR_PATH:U}},computed:z()(z()({},Object(j["c"])("dashboard",["dialogCard"])),{},{hasMember(){return this.dialogCard.tags}}),methods:z()({},Object(j["b"])("dashboard",["toggleDialogCardHasMember"]))},js=zs,Os=(s("1cd7"),Object(u["a"])(js,As,Es,!1,null,"3d9af89c",null)),Hs=Os.exports;g()(Os,"components",{QAvatar:L["a"],QIcon:p["a"]});var Ls=s("bd4c");const Ps=t=>{const e=new Date,s=new Date(t),i=e.getFullYear()-s.getFullYear();if(i>=1)return Ls["a"].formatDate(s,"YYYY年M月D日H點m分");let a=Ls["a"].getDateDiff(e,s,"days");if(a>2)return Ls["a"].formatDate(s,"YYYY年M月D日H點m分");if(a=e.getDate()-s.getDate(),1===a)return Ls["a"].formatDate(s,"昨天H點m分");const n=Ls["a"].getDateDiff(e,s,"seconds");if(n<60)return"剛剛";const o=Ls["a"].getDateDiff(e,s,"minutes");if(o<60)return`${o}分鐘前`;const r=Ls["a"].getDateDiff(e,s,"hours");return r<10?`${r}小時前`:Ls["a"].formatDate(s,"M月D日H點m分")};var Qs={name:"CardContent",components:{CardTodoList:qs,AddTagMenu:Bs,AddMemberMenu:Hs},data(){return{USER_AVATAR_PATH:U,outlinedCheckBox:mt["a"],description:"",isShowDescriptInput:!1,descriptInputHideTimer:null,getFriendilyTimeString:Ps,isShowActions:!0,isShowCommentBtn:!1,commentBtnIcons:["attachment","alternate_email","sentiment_satisfied_alt","laptop"]}},computed:z()({},Object(j["c"])("dashboard",["dialogCard"])),methods:z()(z()({},Object(j["b"])("dashboard",["setIsShowDialog","setDialogCardDesc"])),{},{handleTextareaInput(){setTimeout((()=>{this.resetInputheight()}),0)},resetInputheight(){const{textarea:t}=this.$refs;t.style.height="auto";const e=t.scrollHeight;t.style.height=`${e}px`},handleCancelClick(){this.isShowDescriptInput=!1},handleCancelFocus(){window.clearTimeout(this.descriptInputHideTimer)},setCardDesc(){this.setDialogCardDesc(this.description),this.description=""},handleTextareaBlur(){this.descriptInputHideTimer=setTimeout((()=>{this.setCardDesc(),this.isShowDescriptInput=!1}),50)},showDescriptInput(){this.description=this.dialogCard.desc,this.isShowDescriptInput=!0,setTimeout((()=>{this.resetInputheight(),this.$refs.textarea.focus()}),0)},toggleActionList(){this.isShowActions=!this.isShowActions},toggleShowCommentBtn(){this.isShowCommentBtn=!this.isShowCommentBtn},handleCommentInput(){setTimeout((()=>{this.resetCommentInputheight()}),0)},resetCommentInputheight(){const{comment:t}=this.$refs;t.style.height="auto",t.style.height=`${t.scrollHeight}px`}})},Ns=Qs,Fs=(s("f99d"),Object(u["a"])(Ns,es,ss,!1,null,"274b7ba8",null)),Ys=Fs.exports;g()(Fs,"components",{QAvatar:L["a"],QIcon:p["a"],QSpace:$e["a"]});var Us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"side"},[s("div",{staticClass:"module"},[s("div",{staticClass:"side-title"},[t._v("\n      新增至卡片\n    ")]),s("CardSideButton",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("q-icon",{attrs:{name:t.buttonItems[0].icon,size:"16px"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n        "+t._s(t.buttonItems[0].label)+"\n        "),s("AddMemberMenu")]},proxy:!0}])}),s("CardSideButton",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("q-icon",{attrs:{name:t.buttonItems[1].icon,size:"16px"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n        "+t._s(t.buttonItems[1].label)+"\n        "),s("AddTagMenu")]},proxy:!0}])}),s("CardSideButton",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("q-icon",{attrs:{name:t.buttonItems[2].icon,size:"16px"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n        "+t._s(t.buttonItems[2].label)+"\n        "),s("AddTodoMenu")]},proxy:!0}])}),t._l(t.buttonItems.filter((function(t,e){return e>2})),(function(e){return s("CardSideButton",{key:e.icon,scopedSlots:t._u([{key:"icon",fn:function(){return[s("q-icon",{attrs:{name:e.icon,size:"16px"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n        "+t._s(e.label)+"\n      ")]},proxy:!0}],null,!0)})}))],2),s("div",{staticClass:"module"},[s("div",{staticClass:"side-title"},[t._v("\n      強化功能\n    ")]),s("CardSideButton",{staticClass:"revert",scopedSlots:t._u([{key:"icon",fn:function(){return[s("q-icon",{attrs:{name:"add",size:"16px"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n        新增 Power-Up\n      ")]},proxy:!0}])}),s("div",{staticStyle:{"margin-top":"8px"}},[s("div",{staticStyle:{color:"#97a0af","font-size":"12px","line-height":"16px"}},[t._v("\n        使用無限量的Power-Up 和更多功能。\n      ")]),s("div",{staticClass:"x-btn"},[s("q-icon",{staticStyle:{color:"rgb(66, 82, 110)","margin-right":"2px"},attrs:{name:"computer",size:"16px"}}),t._v("\n        將工作區升級\n      ")],1)])],1),s("div",{staticClass:"module"},[s("div",{staticClass:"side-title relative-position"},[t._v("\n      自動化\n\n      "),s("div",{staticClass:"absolute-right cursor-pointer square-border",staticStyle:{"background-color":"rgba(9,30,66,.04)"}},[s("q-icon",{attrs:{name:"error_outline",size:"16px"}})],1)]),s("CardSideButton",{staticClass:"revert",scopedSlots:t._u([{key:"icon",fn:function(){return[s("q-icon",{attrs:{name:"add",size:"16px"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n        新增按鈕\n      ")]},proxy:!0}])})],1),s("div",{staticClass:"module"},[s("div",{staticClass:"side-title"},[t._v("\n      動作\n    ")]),t._l(t.actionbuttonItems,(function(e,i){return s("CardSideButton",{key:i,scopedSlots:t._u([{key:"icon",fn:function(){return[s("q-icon",{attrs:{name:e.icon,size:"16px"}})]},proxy:!0},{key:"default",fn:function(){return[t._v("\n        "+t._s(e.label)+"\n      ")]},proxy:!0}],null,!0)})}))],2)])},Rs=[],Ws=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-wrapper"},[s("span",{staticClass:"icon absolute-left"},[t._t("icon")],2),t._t("default")],2)},Xs=[],Vs={name:"CardSideButton"},Js=Vs,Gs=(s("8f2a"),Object(u["a"])(Js,Ws,Xs,!1,null,"4496aa10",null)),Ks=Gs.exports,Zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseMenu",{ref:"menu",attrs:{title:"新增待辦清單"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"label"},[t._v("\n      標題\n    ")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],ref:"input",staticClass:"label-input",domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"label"},[t._v("\n      從...複製項目\n    ")]),s("select",{staticClass:"label-select"},[s("option",{attrs:{value:"",selected:""}},[t._v("\n        (無)\n      ")])]),s("div",{staticClass:"save-btn square-border cursor-pointer text-weight-medium",attrs:{tabindex:"2"},on:{click:t.handleSubmit}},[t._v("\n      新增\n    ")])])])},ti=[],ei={name:"AddTodoMenu",components:{BaseMenu:fe},data(){return{title:"待辦清單"}},methods:z()(z()({},Object(j["b"])("dashboard",["addDialogCardTodo"])),{},{handleSubmit(){this.title?(this.addDialogCardTodo(this.title),this.$refs.menu.$refs.menu.hide()):setTimeout((()=>{this.$refs.input.focus()}),20)}})},si=ei,ii=(s("296b"),Object(u["a"])(si,Zs,ti,!1,null,"51f5afe4",null)),ai=ii.exports,ni={name:"CardSide",components:{CardSideButton:Ks,AddTodoMenu:ai,AddTagMenu:Bs,AddMemberMenu:Hs},data(){return{outlinedTopic:mt["c"],buttonItems:[{icon:"person_outline",label:"成員"},{icon:mt["b"],label:"標籤"},{icon:mt["a"],label:"待辦清單"},{icon:"schedule",label:"日期"},{icon:"attachment",label:"附件"},{icon:"folder_open",label:"封面"}],actionbuttonItems:[{icon:"arrow_forward",label:"移動"},{icon:"content_copy",label:"複製"},{icon:"text_snippet",label:"製作範本"},{icon:"visibility",label:"追蹤"},{icon:"move_to_inbox",label:"封存"},{icon:"share",label:"分享"}]}}},oi=ni,ri=(s("525d"),Object(u["a"])(oi,Us,Rs,!1,null,"c55bbdd8",null)),li=ri.exports;g()(ri,"components",{QIcon:p["a"]});var ci={name:"CardDialog",components:{CardHeader:ts,CardContent:Ys,CardSide:li},data(){return{outlinedTopic:mt["c"]}},computed:z()(z()({},Object(j["c"])("dashboard",["isShowDialog"])),{},{isShow:{get(){return this.isShowDialog},set(t){this.setIsShowDialog(t),t||this.handleDialogClose()}}}),methods:z()(z()({},Object(j["b"])("dashboard",["setIsShowDialog","setDialogCard"])),{},{hideDialog(){this.$refs.dialog.hide(),this.setDialogCard(null)},handleDialogClose(){this.setDialogCard(null),this.$router.push({params:{cardId:void 0}})},handleBackDropClick(t){const e=t.path.includes(this.$refs.dialogCard);e||this.hideDialog()}})},di=ci,ui=(s("cc74"),s("24e8")),hi=Object(u["a"])(di,We,Xe,!1,null,"43f18a5c",null),pi=hi.exports;g()(hi,"components",{QDialog:ui["a"],QIcon:p["a"]});var mi={name:"Dashboard",components:{DashboardHeader:Gt,DashBoardBody:Re,CardDialog:pi},mounted(){const{cardId:t}=this.$route.params;t&&this.$store.commit("dashboard/showCardDialog",t)},created(){window.addEventListener("beforeunload",(t=>{this.setDashBoard(),t.preventDefault(),delete t.returnValue}))},methods:{setDashBoard(){this.$store.dispatch("dashboard/setDashboardAction")}},meta(){let t=this.$store.state.dashboard.dashboardTitle;return this.$route.params.cardId&&this.$store.state.dashboard.dialogCard?t=`${t}的${this.$store.state.dashboard.dialogCard.title}`:t+=" | trello",{title:t}}},gi=mi,vi=s("9989"),fi=Object(u["a"])(gi,Ht,Lt,!1,null,null,null),bi=fi.exports;g()(fi,"components",{QPage:vi["a"]});var wi={components:{Header:G,Dashboard:bi,Drawer:Ot}},xi=wi,Ci=s("4d5a"),_i=s("09e3"),Ii=Object(u["a"])(xi,i,a,!1,null,null,null);e["default"]=Ii.exports;g()(Ii,"components",{QLayout:Ci["a"],QPageContainer:_i["a"]})},7784:function(t,e,s){"use strict";s("6fe4")},"78a5":function(t,e,s){},"7cca":function(t,e,s){},"860b":function(t,e,s){"use strict";s("e1b7")},8791:function(t,e,s){"use strict";s("7cca")},"8c70":function(t,e,s){"use strict";s("9b5e")},"8cad":function(t,e,s){},"8db3":function(t,e,s){},"8f2a":function(t,e,s){"use strict";s("6e53")},"96c7":function(t,e,s){"use strict";s("37c7")},"96e4":function(t,e,s){},"97c8":function(t,e,s){},"98e3":function(t,e,s){},"9a5b":function(t,e,s){"use strict";s("4491")},"9b5e":function(t,e,s){},"9c07":function(t,e,s){},"9da3":function(t,e,s){},a4ef:function(t,e,s){"use strict";s("8db3")},a8c1:function(t,e,s){},a95e:function(t,e,s){},af71:function(t,e,s){"use strict";s("f404")},b7d0:function(t,e,s){"use strict";s("a95e")},c2c9:function(t,e,s){"use strict";s("78a5")},c36c:function(t,e,s){"use strict";s("3c9c")},c46e:function(t,e,s){},c559:function(t,e,s){},cc74:function(t,e,s){"use strict";s("fa28")},db51:function(t,e,s){"use strict";s("508c")},e1b7:function(t,e,s){},e94b:function(t,e,s){},f329:function(t,e,s){},f404:function(t,e,s){},f99d:function(t,e,s){"use strict";s("5e67")},fa28:function(t,e,s){}}]);