(function(t){function o(o){for(var e,r,a=o[0],s=o[1],c=o[2],l=0,u=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(d,r)&&d[r]&&u.push(d[r][0]),d[r]=0;for(e in s)Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e]);g&&g(o);while(u.length)u.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,o=0;o<i.length;o++){for(var n=i[o],e=!0,r=1;r<n.length;r++){var a=n[r];0!==d[a]&&(e=!1)}e&&(i.splice(o--,1),t=s(s.s=n[0]))}return t}var e={},r={1:0},d={1:0},i=[];function a(t){return s.p+"js/"+({}[t]||t)+"."+{2:"708b90b0"}[t]+".js"}function s(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var o=[],n={2:1};r[t]?o.push(r[t]):0!==r[t]&&n[t]&&o.push(r[t]=new Promise((function(o,n){for(var e="css/"+({}[t]||t)+"."+{2:"ae33d30e"}[t]+".css",d=s.p+e,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var c=i[a],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===e||l===d))return o()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){c=u[a],l=c.getAttribute("data-href");if(l===e||l===d)return o()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=o,g.onerror=function(o){var e=o&&o.target&&o.target.src||d,i=new Error("Loading CSS chunk "+t+" failed.\n("+e+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=e,delete r[t],g.parentNode.removeChild(g),n(i)},g.href=d;var m=document.getElementsByTagName("head")[0];m.appendChild(g)})).then((function(){r[t]=0})));var e=d[t];if(0!==e)if(e)o.push(e[2]);else{var i=new Promise((function(o,n){e=d[t]=[o,n]}));o.push(e[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=a(t);var u=new Error;c=function(o){l.onerror=l.onload=null,clearTimeout(g);var n=d[t];if(0!==n){if(n){var e=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed.\n("+e+": "+r+")",u.name="ChunkLoadError",u.type=e,u.request=r,n[1](u)}d[t]=void 0}};var g=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(o)},s.m=t,s.c=e,s.d=function(t,o,n){s.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,o){if(1&o&&(t=s(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)s.d(n,e,function(o){return t[o]}.bind(null,e));return n},s.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(o,"a",o),o},s.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},s.p="/Charley-is-fat/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=o,c=c.slice();for(var u=0;u<c.length;u++)o(c[u]);var g=l;i.push([0,0]),n()})({0:function(t,o,n){t.exports=n("2f39")},"2f39":function(t,o,n){"use strict";n.r(o);var e={};n.r(e),n.d(e,"getCardById",(function(){return D})),n.d(e,"getCardsByIds",(function(){return T})),n.d(e,"dialogCard",(function(){return E}));var r={};n.r(r),n.d(r,"setDraggingItem",(function(){return O})),n.d(r,"setDraggingList",(function(){return L})),n.d(r,"showDrawer",(function(){return M})),n.d(r,"hideDrawer",(function(){return P})),n.d(r,"setDrawerTab",(function(){return _})),n.d(r,"setBgColor",(function(){return A})),n.d(r,"addColumn",(function(){return k})),n.d(r,"removeColumn",(function(){return B})),n.d(r,"setColumnTitle",(function(){return $})),n.d(r,"switchDraggingColumn",(function(){return F})),n.d(r,"addColumnCard",(function(){return N})),n.d(r,"setIsShowDialog",(function(){return q})),n.d(r,"setDialogCard",(function(){return H})),n.d(r,"setDialogCardDesc",(function(){return J})),n.d(r,"setDialogCardTitle",(function(){return V})),n.d(r,"addDialogCardTodo",(function(){return K})),n.d(r,"removeDialogCardTodo",(function(){return U})),n.d(r,"removeDialogCardTodoItem",(function(){return z})),n.d(r,"addDialogCardTag",(function(){return G})),n.d(r,"removeDialogCardTag",(function(){return Q})),n.d(r,"toggleDialogCardHasMember",(function(){return R})),n.d(r,"updateTodoItem",(function(){return W})),n.d(r,"toggleTodoItemStatus",(function(){return X})),n.d(r,"addTodoItem",(function(){return Y})),n.d(r,"switchDraggingTodo",(function(){return Z})),n.d(r,"switchDraggingTodoItem",(function(){return tt})),n.d(r,"insertDraggingTodoItem",(function(){return ot})),n.d(r,"removeEmptyTodoItem",(function(){return nt})),n.d(r,"switchDraggingCardItem",(function(){return et})),n.d(r,"insertDraggingCardItem",(function(){return rt})),n.d(r,"removeEmptyCard",(function(){return dt})),n.d(r,"setDashboardTitle",(function(){return it})),n.d(r,"setColumns",(function(){return at})),n.d(r,"showCardDialog",(function(){return st}));var d={};n.r(d),n.d(d,"setDashboardAction",(function(){return ct})),n.d(d,"getDashboardAction",(function(){return lt}));n("5319"),n("7d6e"),n("e54f"),n("985d"),n("4e2f"),n("31cd");var i=n("2b0e"),a=n("1f91"),s=n("42d2"),c=n("b05d"),l=n("18d6"),u=n("9c64");i["a"].use(c["a"],{config:{},lang:a["a"],iconSet:s["a"],plugins:{LocalStorage:l["a"],Meta:u["a"]}});var g=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{style:"background-color: #"+t.bgColorCode,attrs:{id:"q-app"}},[n("router-view")],1)},m=[],f=n("ded3"),h=n.n(f),I=n("2f62"),p={name:"App",computed:h()({},Object(I["c"])("dashboard",["bgColorCode"]))},C=p,x=n("2877"),b=Object(x["a"])(C,g,m,!1,null,null,null),v=b.exports;const w=()=>({columns:[],draggingItem:null,draggingList:null,isShowDrawer:!1,drawerTab:"menu",bgColorCode:"0279c0",isShowDialog:!1,dialogCard:null,dashboardTitle:"減肥計劃"});var y=w;function D(t){return o=>{for(let n=0;n<t.cards.length;n+=1){const e=t.cards[n];if(e.id===o)return e}return null}}function T(t){return o=>{const n=[];for(let e=0;e<t.cards.length;e+=1){const r=t.cards[e];o.includes(r.id)&&n.push(r)}return n}}function E(t){if(!t.dialogCardId)return null;for(let o=0;o<t.cards.length;o+=1){const n=t.cards[o];if(n.id===t.dialogCardId)return n}return null}n("13d5");const S=(t=0,o)=>t+Math.floor(Math.random()*(o-t)),j=()=>{let t="";while(t.length<8){const o=S(0,3);if(1===o){const o=S(65,90);t+=String.fromCharCode(o)}else if(2===o){const o=S(97,122);t+=String.fromCharCode(o)}else if(3===o){const o=S(48,57);t+=String.fromCharCode(o)}}return t};function O(t,o){console.log({item:o}),t.draggingItem=o}function L(t,o){console.log({list:o}),t.draggingList=o}function M(t){t.isShowDrawer=!0}function P(t){t.isShowDrawer=!1}function _(t,o){t.drawerTab=o}function A(t,o){t.bgColorCode=o}function k(t,o){const n={id:j(),title:o,cards:[],columnIndex:t.columns.length};t.columns.push(n)}function B(t,o){t.columns.splice(o,1),t.columns.forEach(((t,o)=>{t.columnIndex=o,t.cards.forEach((t=>{t.columnIndex=o}))}))}function $(t,{index:o,title:n}){t.columns[o].title=n}function F(t,o){const n=t.draggingList.item.columnIndex;t.columns[n].columnIndex=o,t.columns[n].cards.forEach((t=>{t.columnIndex=o})),t.columns[o].columnIndex=n,t.columns[o].cards.forEach((t=>{t.columnIndex=n}));const e=t.columns[n];t.columns[n]=t.columns[o],t.columns[o]=e,t.columns.forEach((t=>{console.log(t.cards.map((t=>t.title)))}))}function N(t,{index:o,title:n}){const e={id:j(),title:n,tags:[],columnIndex:o,itemIndex:t.columns[o].cards.length,todos:[],actions:[{text:`已將這張卡片新增到\b「${t.columns[o].title}」`,time:Date.now()}],hasMember:!1};t.columns[o].cards.push(e)}function q(t,o){t.isShowDialog=o}function H(t,o){t.dialogCard=o}function J(t,o){t.dialogCard&&(t.dialogCard.desc=o)}function V(t,o){t.dialogCard&&(t.dialogCard.title=o)}function K(t,o){if(!t.dialogCard)return;const n={id:j(),title:o,todoIndex:t.dialogCard.todos.length,items:[]};t.dialogCard.todos.push(n),t.dialogCard.actions.unshift({text:`已將\b「${o}」新增到這張卡片`,time:Date.now()})}function U(t,o){if(!t.dialogCard)return;const n=t.dialogCard.todos.splice(o,1),e=` 已從這張卡片中移除「${n[0].title}」`;t.dialogCard.actions.unshift({text:e,time:Date.now()}),t.dialogCard.todos.forEach(((t,o)=>{t.todoIndex=o,t.items.forEach((t=>{t.todoIndex=o}))}))}function z(t,{todoIndex:o,itemIndex:n}){t.dialogCard&&(t.dialogCard.todos[o].items.splice(n,1),t.dialogCard.todos[o].items.forEach(((t,o)=>{t.itemIndex=o})))}function G(t,o){t.dialogCard&&t.dialogCard.tags.push(o)}function Q(t,o){if(!t.dialogCard)return;const{tags:n}=t.dialogCard;for(let e=0;e<n.length;e+=1)n[e]===o&&n.splice(e,1)}function R(t){t.dialogCard&&(t.dialogCard.hasMember=!t.dialogCard.hasMember)}function W(t,{item:o,todoIndex:n,itemIndex:e}){t.dialogCard&&t.dialogCard.todos[n].items.splice(e,1,o)}function X(t,{todoIndex:o,itemIndex:n}){if(!t.dialogCard)return;const e=h()(h()({},t.dialogCard.todos[o].items[n]),{},{isFinish:!t.dialogCard.todos[o].items[n].isFinish});t.dialogCard.todos[o].items.splice(n,1,e);const r=e.isFinish?`已完成這張卡片的「${e.label}」`:`已將這張卡片的「${e.label}」標示為未完成`;t.dialogCard.actions.unshift({text:r,time:Date.now()})}function Y(t,{label:o,todoIndex:n}){if(!t.dialogCard)return;const e={id:j(),isFinish:!1,label:o,todoIndex:n,itemIndex:t.dialogCard.todos[n].items.length};t.dialogCard.todos[n].items.push(e)}function Z(t,o){if(!t.dialogCard)return;const n=t.dialogCard,e=t.draggingList.item.todoIndex;n.todos[e].todoIndex=o,n.todos[e].items.forEach((t=>{t.todoIndex=o})),n.todos[o].todoIndex=e,n.todos[o].items.forEach((t=>{t.todoIndex=e}));const r=n.todos[e];n.todos[e]=n.todos[o],n.todos[o]=r,n.todos.forEach((t=>{console.log(t.todoIndex),console.log(t.items.map((t=>t.label)))}))}function tt(t,o){if(console.log("switchDraggingTodoItem"),!t.dialogCard)return;const n=t.dialogCard,e=t.draggingItem.item,r=h()({},e);e.itemIndex=o.itemIndex,e.todoIndex=o.todoIndex,o.itemIndex=r.itemIndex,n.todos[e.todoIndex].items[e.itemIndex]=e,n.todos[o.todoIndex].items[o.itemIndex]=o,n.todos.forEach((t=>{console.log(t.items.map((t=>t?t.label:void 0)))}))}function ot(t,{todoIndex:o,itemIndex:n}){if(console.log("insertDraggingTodoItem"),!t.dialogCard)return;const e=t.dialogCard,r=t.draggingItem.item;e.todos[r.todoIndex].items[r.itemIndex]=void 0;const d=r.todoIndex;r.todoIndex=o,r.itemIndex=n;const i=e.todos[o].items,a=i.reduce(((t,o,e,r)=>e<n?t:(r[e]=t,o&&(o.itemIndex=e+1),o)),r);a&&(i[i.length]=a);const s=e.todos[d].items;s.reduce(((t,o)=>(void 0!==o&&(o.itemIndex=t),t+1)),0),e.todos.forEach((t=>{console.log(t.items.map((t=>t?t.label:void 0)))}))}function nt(t){if(console.log("removeEmptyTodoItem"),!t.dialogCard)return;const o=t.dialogCard;o.todos=o.todos.map(((t,o)=>h()(h()({},t),{},{todoIndex:o,items:t.items.filter((t=>void 0!==t)).map(((t,n)=>h()(h()({},t),{},{todoIndex:o,itemIndex:n})))}))),o.todos.forEach((t=>{console.log(t.items.map((t=>t?t.label:void 0)))}))}function et(t,o){console.log("switchDraggingCardItem");const n=t.draggingItem.item,e=h()({},n);n.itemIndex=o.itemIndex,n.columnIndex=o.columnIndex,o.itemIndex=e.itemIndex;const{columns:r}=t;r[n.columnIndex].cards[n.itemIndex]=n,r[o.columnIndex].cards[o.itemIndex]=o,r.forEach((t=>{console.log(t.cards.map((t=>t?t.title:void 0)))}))}function rt(t,{columnIndex:o,itemIndex:n}){console.log("insertDraggingCardItem");const e=t.draggingItem.item;t.columns[e.columnIndex].cards[e.itemIndex]=void 0;const r=e.columnIndex;e.columnIndex=o,e.itemIndex=n;const d=t.columns[o].cards,i=d.reduce(((t,o,e,r)=>e<n?t:(r[e]=t,o&&(o.itemIndex=e+1),o)),e);i&&(d[d.length]=i);const a=t.columns[r].cards;a.reduce(((t,o)=>(void 0!==o&&(o.itemIndex=t),t+1)),0),t.columns.forEach((t=>{console.log(t.cards.map((t=>t?t.title:void 0)))}))}function dt(t){console.log("removeEmptyCard"),t.columns=t.columns.map(((t,o)=>h()(h()({},t),{},{cards:t.cards.filter((t=>void 0!==t)).map(((t,n)=>h()(h()({},t),{},{itemIndex:n,columnIndex:o})))}))),t.columns.forEach((t=>{console.log(t.cards.map((t=>t?t.title:void 0)))}))}function it(t,o){t.dashboardTitle=o}function at(t,o){t.columns=o}function st(t,o){for(let n=0;n<t.columns.length;n+=1){const e=t.columns[n];for(let n=0;n<e.cards.length;n+=1){const r=e.cards[n];if(r.id===o)return t.dialogCard=r,void(t.isShowDialog=!0)}}}function ct({state:t}){try{const{bgColorCode:o,dashboardTitle:n,columns:e}=t;l["a"].set("bg",o),l["a"].set("t",n),l["a"].set("c",e)}catch(o){}}async function lt({commit:t}){try{const o=l["a"].getItem("bg");o&&t("setBgColor",o);const n=l["a"].getItem("t");n&&t("setDashboardTitle",n);const e=l["a"].getItem("c");if(e)t("setColumns",e);else{const o=await fetch("/Charley-is-fat/json/data.json"),n=await o.json();t("setColumns",n)}}catch(o){}}var ut={namespaced:!0,state:y,getters:e,mutations:r,actions:d};i["a"].use(I["a"]);var gt=async function(){const t=new I["a"].Store({modules:{dashboard:ut},strict:!1});return await t.dispatch("dashboard/getDashboardAction"),t},mt=n("8c4f");n("ddb0");const ft=[{path:"/charleys/:cardId?",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"713b"))},{path:"*",redirect:{path:"/charleys"}}];var ht=ft;i["a"].use(mt["a"]);var It=function(){const t=new mt["a"]({scrollBehavior:()=>({x:0,y:0}),routes:ht,mode:"history",base:"/Charley-is-fat/"});return t},pt=async function(){const t="function"===typeof gt?await gt({Vue:i["a"]}):gt,o="function"===typeof It?await It({Vue:i["a"],store:t}):It;t.$router=o;const n={router:o,store:t,render:t=>t(v),el:"#q-app"};return{app:n,store:t,router:o}};async function Ct(){const{app:t,store:o,router:n}=await pt();new i["a"](t)}Ct()},"31cd":function(t,o,n){}});