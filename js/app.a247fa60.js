(function(t){function n(n){for(var o,r,a=n[0],s=n[1],c=n[2],u=0,l=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(d,r)&&d[r]&&l.push(d[r][0]),d[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);f&&f(n);while(l.length)l.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],o=!0,r=1;r<e.length;r++){var a=e[r];0!==d[a]&&(o=!1)}o&&(i.splice(n--,1),t=s(s.s=e[0]))}return t}var o={},r={1:0},d={1:0},i=[];function a(t){return s.p+"js/"+({}[t]||t)+"."+{2:"ad25b1ee"}[t]+".js"}function s(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.e=function(t){var n=[],e={2:1};r[t]?n.push(r[t]):0!==r[t]&&e[t]&&n.push(r[t]=new Promise((function(n,e){for(var o="css/"+({}[t]||t)+"."+{2:"d852a939"}[t]+".css",d=s.p+o,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var c=i[a],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===o||u===d))return n()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){c=l[a],u=c.getAttribute("data-href");if(u===o||u===d)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var o=n&&n.target&&n.target.src||d,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[t],f.parentNode.removeChild(f),e(i)},f.href=d;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[t]=0})));var o=d[t];if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((function(n,e){o=d[t]=[n,e]}));n.push(o[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=a(t);var l=new Error;c=function(n){u.onerror=u.onload=null,clearTimeout(f);var e=d[t];if(0!==e){if(e){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,e[1](l)}d[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(n)},s.m=t,s.c=o,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)s.d(e,o,function(n){return t[n]}.bind(null,o));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/Charley-is-fat/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var f=u;i.push([0,0]),e()})({0:function(t,n,e){t.exports=e("2f39")},"2f39":function(t,n,e){"use strict";e.r(n);var o={};e.r(o),e.d(o,"getCardById",(function(){return D})),e.d(o,"getCardsByIds",(function(){return T})),e.d(o,"dialogCard",(function(){return S}));var r={};e.r(r),e.d(r,"setDraggingItem",(function(){return O})),e.d(r,"setDraggingList",(function(){return L})),e.d(r,"showDrawer",(function(){return M})),e.d(r,"hideDrawer",(function(){return P})),e.d(r,"setDrawerTab",(function(){return _})),e.d(r,"setBgColor",(function(){return A})),e.d(r,"addColumn",(function(){return k})),e.d(r,"removeColumn",(function(){return B})),e.d(r,"setColumnTitle",(function(){return $})),e.d(r,"switchDraggingColumn",(function(){return F})),e.d(r,"addColumnCard",(function(){return N})),e.d(r,"setIsShowDialog",(function(){return q})),e.d(r,"setDialogCard",(function(){return H})),e.d(r,"setDialogCardDesc",(function(){return J})),e.d(r,"setDialogCardTitle",(function(){return V})),e.d(r,"addDialogCardTodo",(function(){return K})),e.d(r,"removeDialogCardTodo",(function(){return U})),e.d(r,"removeDialogCardTodoItem",(function(){return z})),e.d(r,"addDialogCardTag",(function(){return G})),e.d(r,"removeDialogCardTag",(function(){return Q})),e.d(r,"toggleDialogCardHasMember",(function(){return R})),e.d(r,"updateTodoItem",(function(){return W})),e.d(r,"toggleTodoItemStatus",(function(){return X})),e.d(r,"addTodoItem",(function(){return Y})),e.d(r,"switchDraggingTodo",(function(){return Z})),e.d(r,"switchDraggingTodoItem",(function(){return tt})),e.d(r,"insertDraggingTodoItem",(function(){return nt})),e.d(r,"removeEmptyTodoItem",(function(){return et})),e.d(r,"switchDraggingCardItem",(function(){return ot})),e.d(r,"insertDraggingCardItem",(function(){return rt})),e.d(r,"removeEmptyCard",(function(){return dt})),e.d(r,"setDashboardTitle",(function(){return it})),e.d(r,"setColumns",(function(){return at})),e.d(r,"showCardDialog",(function(){return st}));var d={};e.r(d),e.d(d,"setDashboardAction",(function(){return ct})),e.d(d,"getDashboardAction",(function(){return ut}));e("5319"),e("7d6e"),e("e54f"),e("985d"),e("4e2f"),e("31cd");var i=e("2b0e"),a=e("1f91"),s=e("42d2"),c=e("b05d"),u=e("18d6"),l=e("9c64");i["a"].use(c["a"],{config:{},lang:a["a"],iconSet:s["a"],plugins:{LocalStorage:u["a"],Meta:l["a"]}});var f=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{style:"background-color: #"+t.bgColorCode,attrs:{id:"q-app"}},[e("router-view")],1)},m=[],g=e("ded3"),h=e.n(g),C=e("2f62"),I={name:"App",computed:h()({},Object(C["c"])("dashboard",["bgColorCode"]))},p=I,x=e("2877"),b=Object(x["a"])(p,f,m,!1,null,null,null),v=b.exports;const w=()=>({columns:[],draggingItem:null,draggingList:null,isShowDrawer:!1,drawerTab:"menu",bgColorCode:"0279c0",isShowDialog:!1,dialogCard:null,dashboardTitle:"減肥計劃"});var y=w;function D(t){return n=>{for(let e=0;e<t.cards.length;e+=1){const o=t.cards[e];if(o.id===n)return o}return null}}function T(t){return n=>{const e=[];for(let o=0;o<t.cards.length;o+=1){const r=t.cards[o];n.includes(r.id)&&e.push(r)}return e}}function S(t){if(!t.dialogCardId)return null;for(let n=0;n<t.cards.length;n+=1){const e=t.cards[n];if(e.id===t.dialogCardId)return e}return null}e("13d5");const E=(t=0,n)=>t+Math.floor(Math.random()*(n-t)),j=()=>{let t="";while(t.length<8){const n=E(0,3);if(1===n){const n=E(65,90);t+=String.fromCharCode(n)}else if(2===n){const n=E(97,122);t+=String.fromCharCode(n)}else if(3===n){const n=E(48,57);t+=String.fromCharCode(n)}}return t};function O(t,n){t.draggingItem=n}function L(t,n){t.draggingList=n}function M(t){t.isShowDrawer=!0}function P(t){t.isShowDrawer=!1}function _(t,n){t.drawerTab=n}function A(t,n){t.bgColorCode=n}function k(t,n){const e={id:j(),title:n,cards:[],columnIndex:t.columns.length};t.columns.push(e)}function B(t,n){t.columns.splice(n,1),t.columns.forEach(((t,n)=>{t.columnIndex=n,t.cards.forEach((t=>{t.columnIndex=n}))}))}function $(t,{index:n,title:e}){t.columns[n].title=e}function F(t,n){const e=t.draggingList.item.columnIndex;t.columns[e].columnIndex=n,t.columns[e].cards.forEach((t=>{t.columnIndex=n})),t.columns[n].columnIndex=e,t.columns[n].cards.forEach((t=>{t.columnIndex=e}));const o=t.columns[e];t.columns[e]=t.columns[n],t.columns[n]=o}function N(t,{index:n,title:e}){const o={id:j(),title:e,tags:[],columnIndex:n,itemIndex:t.columns[n].cards.length,todos:[],actions:[{text:`已將這張卡片新增到\b「${t.columns[n].title}」`,time:Date.now()}],hasMember:!1};t.columns[n].cards.push(o)}function q(t,n){t.isShowDialog=n}function H(t,n){t.dialogCard=n}function J(t,n){t.dialogCard&&(t.dialogCard.desc=n)}function V(t,n){t.dialogCard&&(t.dialogCard.title=n)}function K(t,n){if(!t.dialogCard)return;const e={id:j(),title:n,todoIndex:t.dialogCard.todos.length,items:[]};t.dialogCard.todos.push(e),t.dialogCard.actions.unshift({text:`已將\b「${n}」新增到這張卡片`,time:Date.now()})}function U(t,n){if(!t.dialogCard)return;const e=t.dialogCard.todos.splice(n,1),o=` 已從這張卡片中移除「${e[0].title}」`;t.dialogCard.actions.unshift({text:o,time:Date.now()}),t.dialogCard.todos.forEach(((t,n)=>{t.todoIndex=n,t.items.forEach((t=>{t.todoIndex=n}))}))}function z(t,{todoIndex:n,itemIndex:e}){t.dialogCard&&(t.dialogCard.todos[n].items.splice(e,1),t.dialogCard.todos[n].items.forEach(((t,n)=>{t.itemIndex=n})))}function G(t,n){t.dialogCard&&t.dialogCard.tags.push(n)}function Q(t,n){if(!t.dialogCard)return;const{tags:e}=t.dialogCard;for(let o=0;o<e.length;o+=1)e[o]===n&&e.splice(o,1)}function R(t){t.dialogCard&&(t.dialogCard.hasMember=!t.dialogCard.hasMember)}function W(t,{item:n,todoIndex:e,itemIndex:o}){t.dialogCard&&t.dialogCard.todos[e].items.splice(o,1,n)}function X(t,{todoIndex:n,itemIndex:e}){if(!t.dialogCard)return;const o=h()(h()({},t.dialogCard.todos[n].items[e]),{},{isFinish:!t.dialogCard.todos[n].items[e].isFinish});t.dialogCard.todos[n].items.splice(e,1,o);const r=o.isFinish?`已完成這張卡片的「${o.label}」`:`已將這張卡片的「${o.label}」標示為未完成`;t.dialogCard.actions.unshift({text:r,time:Date.now()})}function Y(t,{label:n,todoIndex:e}){if(!t.dialogCard)return;const o={id:j(),isFinish:!1,label:n,todoIndex:e,itemIndex:t.dialogCard.todos[e].items.length};t.dialogCard.todos[e].items.push(o)}function Z(t,n){if(!t.dialogCard)return;const e=t.dialogCard,o=t.draggingList.item.todoIndex;e.todos[o].todoIndex=n,e.todos[o].items.forEach((t=>{t.todoIndex=n})),e.todos[n].todoIndex=o,e.todos[n].items.forEach((t=>{t.todoIndex=o}));const r=e.todos[o];e.todos[o]=e.todos[n],e.todos[n]=r}function tt(t,n){if(!t.dialogCard)return;const e=t.dialogCard,o=t.draggingItem.item,r=h()({},o);o.itemIndex=n.itemIndex,o.todoIndex=n.todoIndex,n.itemIndex=r.itemIndex,e.todos[o.todoIndex].items[o.itemIndex]=o,e.todos[n.todoIndex].items[n.itemIndex]=n}function nt(t,{todoIndex:n,itemIndex:e}){if(!t.dialogCard)return;const o=t.dialogCard,r=t.draggingItem.item;o.todos[r.todoIndex].items[r.itemIndex]=void 0;const d=r.todoIndex;r.todoIndex=n,r.itemIndex=e;const i=o.todos[n].items,a=i.reduce(((t,n,o,r)=>o<e?t:(r[o]=t,n&&(n.itemIndex=o+1),n)),r);a&&(i[i.length]=a);const s=o.todos[d].items;s.reduce(((t,n)=>(void 0!==n&&(n.itemIndex=t),t+1)),0)}function et(t){if(!t.dialogCard)return;const n=t.dialogCard;n.todos=n.todos.map(((t,n)=>h()(h()({},t),{},{todoIndex:n,items:t.items.filter((t=>void 0!==t)).map(((t,e)=>h()(h()({},t),{},{todoIndex:n,itemIndex:e})))})))}function ot(t,n){const e=t.draggingItem.item,o=h()({},e);e.itemIndex=n.itemIndex,e.columnIndex=n.columnIndex,n.itemIndex=o.itemIndex;const{columns:r}=t;r[e.columnIndex].cards[e.itemIndex]=e,r[n.columnIndex].cards[n.itemIndex]=n}function rt(t,{columnIndex:n,itemIndex:e}){const o=t.draggingItem.item;t.columns[o.columnIndex].cards[o.itemIndex]=void 0;const r=o.columnIndex;o.columnIndex=n,o.itemIndex=e;const d=t.columns[n].cards,i=d.reduce(((t,n,o,r)=>o<e?t:(r[o]=t,n&&(n.itemIndex=o+1),n)),o);i&&(d[d.length]=i);const a=t.columns[r].cards;a.reduce(((t,n)=>(void 0!==n&&(n.itemIndex=t),t+1)),0)}function dt(t){t.columns=t.columns.map(((t,n)=>h()(h()({},t),{},{cards:t.cards.filter((t=>void 0!==t)).map(((t,e)=>h()(h()({},t),{},{itemIndex:e,columnIndex:n})))})))}function it(t,n){t.dashboardTitle=n}function at(t,n){t.columns=n}function st(t,n){for(let e=0;e<t.columns.length;e+=1){const o=t.columns[e];for(let e=0;e<o.cards.length;e+=1){const r=o.cards[e];if(r.id===n)return t.dialogCard=r,void(t.isShowDialog=!0)}}}function ct({state:t}){try{const{bgColorCode:n,dashboardTitle:e,columns:o}=t;u["a"].set("bg",n),u["a"].set("t",e),u["a"].set("c",o)}catch(n){}}async function ut({commit:t}){try{const n=u["a"].getItem("bg");n&&t("setBgColor",n);const e=u["a"].getItem("t");e&&t("setDashboardTitle",e);const o=u["a"].getItem("c");if(o&&o.length>0)t("setColumns",o);else{const n=await fetch("/Charley-is-fat/json/data.json"),e=await n.json();t("setColumns",e)}}catch(n){}}var lt={namespaced:!0,state:y,getters:o,mutations:r,actions:d};i["a"].use(C["a"]);var ft=async function(){const t=new C["a"].Store({modules:{dashboard:lt},strict:!1});return await t.dispatch("dashboard/getDashboardAction"),t},mt=e("8c4f");e("ddb0");const gt=[{path:"/charleys/:cardId?",component:()=>Promise.all([e.e(0),e.e(2)]).then(e.bind(null,"713b"))},{path:"*",redirect:{path:"/charleys"}}];var ht=gt;i["a"].use(mt["a"]);var Ct=function(){const t=new mt["a"]({scrollBehavior:()=>({x:0,y:0}),routes:ht,mode:"history",base:"/Charley-is-fat/"});return t},It=async function(){const t="function"===typeof ft?await ft({Vue:i["a"]}):ft,n="function"===typeof Ct?await Ct({Vue:i["a"],store:t}):Ct;t.$router=n;const e={router:n,store:t,render:t=>t(v),el:"#q-app"};return{app:e,store:t,router:n}};async function pt(){const{app:t,store:n,router:e}=await It();new i["a"](t)}pt()},"31cd":function(t,n,e){}});